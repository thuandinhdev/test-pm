{"version":3,"sources":["./src/app/modules/sales/estimates/pages/estimate-create/estimate-create.component.html","./src/app/modules/sales/estimates/pages/estimate-edit/estimate-edit.component.html","./src/app/modules/sales/estimates/pages/estimate-lists/estimate-lists.component.html","./src/app/modules/sales/estimates/pages/estimate-view/estimate-view.component.html","./src/app/core/helpers/sale.helper.ts","./src/app/core/services/client.service.ts","./src/app/core/services/estimate.service.ts","./src/app/modules/sales/estimates/estimates-routing.module.ts","./src/app/modules/sales/estimates/estimates.module.ts","./src/app/modules/sales/estimates/pages/estimate-create/estimate-create.component.scss","./src/app/modules/sales/estimates/pages/estimate-create/estimate-create.component.ts","./src/app/modules/sales/estimates/pages/estimate-edit/estimate-edit.component.scss","./src/app/modules/sales/estimates/pages/estimate-edit/estimate-edit.component.ts","./src/app/modules/sales/estimates/pages/estimate-lists/estimate-lists.component.scss","./src/app/modules/sales/estimates/pages/estimate-lists/estimate-lists.component.ts","./src/app/modules/sales/estimates/pages/estimate-view/estimate-view.component.scss","./src/app/modules/sales/estimates/pages/estimate-view/estimate-view.component.ts"],"names":[],"mappings":"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","file":"modules-sales-estimates-estimates-module.js","sourcesContent":["export default \"<section id=\\\"basic-form-layouts\\\">\\n\\t<form [formGroup]=\\\"createEstimateForm\\\" (ngSubmit)=\\\"onSubmit()\\\" *ngIf=\\\"isFormLoaded\\\">\\n\\t\\t<div class=\\\"row\\\">\\n\\t\\t\\t<div class=\\\"col-md-6\\\">\\n\\t\\t\\t\\t<div class=\\\"card\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"card-header\\\">\\n\\t\\t\\t\\t\\t\\t<h4 class=\\\"card-title\\\">{{'estimates.title2' | translate}}</h4>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\\\"card-body\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"px-3\\\">\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-body\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<h4 class=\\\"form-section\\\"><i class=\\\"ft-user\\\" aria-hidden=\\\"true\\\"></i>{{'estimates.headings.head1' | translate}}</h4>\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"row\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-md-6\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group\\\" [ngClass]=\\\"{ 'is-invalid': isFormSubmitted && estimateControl.client_id.errors }\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<label for=\\\"client_id\\\">{{'estimates.create.fields.customer' | translate}}&nbsp;<span class=\\\"text-danger\\\">*</span> </label>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ng-select [clearable]=\\\"false\\\" [searchable]=\\\"true\\\" [items]=\\\"clients\\\" [selectOnTab]=\\\"true\\\" bindLabel=\\\"firstname\\\" bindValue=\\\"id\\\" labelForId=\\\"client_id\\\" formControlName=\\\"client_id\\\" placeholder=\\\"{{'estimates.create.placeholders.placeholder1' | translate}}\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ng-template ng-option-tmp let-item=\\\"item\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{{item.firstname}} {{item.lastname}}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</ng-template>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</ng-select>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div *ngIf=\\\"isFormSubmitted && estimateControl.client_id.errors\\\" class=\\\"invalid-feedback\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div *ngIf=\\\"estimateControl.client_id.errors.required\\\">{{'estimates.create.error_messages.message1' | translate}}</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t<h4 class=\\\"form-section\\\"><i class=\\\"ft-calendar\\\"></i>{{'estimates.headings.head2' | translate}}</h4>\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"row\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-md-6\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group\\\" [ngClass]=\\\"{ 'is-invalid': isFormSubmitted && estimateControl.estimate_date.errors }\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<label for=\\\"estimate_date\\\">{{'estimates.create.fields.estimate_date' | translate}}&nbsp;<span class=\\\"text-danger\\\">*</span></label>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"position-relative has-icon-left\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<input type=\\\"text\\\" class=\\\"form-control\\\" #dp1=\\\"bsDatepicker\\\" bsDatepicker [bsConfig]=\\\"datepickerConfig\\\" formControlName=\\\"estimate_date\\\" id=\\\"estimate_date\\\" placeholder=\\\"{{'estimates.create.placeholders.placeholder2' | translate}}\\\" />\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-control-position\\\"><i class=\\\"ft-calendar\\\"></i></div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div *ngIf=\\\"isFormSubmitted && estimateControl.estimate_date.errors\\\" class=\\\"invalid-feedback\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div *ngIf=\\\"estimateControl.estimate_date.errors.required\\\">{{'estimates.create.error_messages.message2' | translate}}</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-md-6\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group\\\" [ngClass]=\\\"{ 'is-invalid': isFormSubmitted && estimateControl.valid_till.errors }\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<label for=\\\"end-date\\\">{{'estimates.create.fields.valid_till' | translate}}&nbsp;<span class=\\\"text-danger\\\">*</span></label>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"position-relative has-icon-left\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<input type=\\\"text\\\" class=\\\"form-control\\\" #dp2=\\\"bsDatepicker\\\" bsDatepicker [bsConfig]=\\\"datepickerConfig\\\" formControlName=\\\"valid_till\\\" id=\\\"valid_till\\\" placeholder=\\\"{{'estimates.create.placeholders.placeholder3' | translate}}\\\" />\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-control-position\\\"><i class=\\\"ft-calendar\\\"></i></div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div *ngIf=\\\"isFormSubmitted && estimateControl.valid_till.errors\\\" class=\\\"invalid-feedback\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div *ngIf=\\\"estimateControl.valid_till.errors.required\\\">{{'estimates.create.error_messages.message3' | translate}}</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\\\"col-md-6\\\">\\n\\t\\t\\t\\t<div class=\\\"card\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"card-header\\\">&nbsp;</div>\\n\\t\\t\\t\\t\\t<div class=\\\"card-body\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"px-3\\\">\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-body\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<h4 class=\\\"form-section\\\"><i class=\\\"ft-box\\\"></i>{{'estimates.headings.head3' | translate}}</h4>\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"row\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-md-12\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<label for=\\\"reference\\\">{{'estimates.create.fields.reference' | translate}} #</label>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<input type=\\\"text\\\" class=\\\"form-control\\\" formControlName=\\\"reference\\\" id=\\\"reference\\\" placeholder=\\\"{{'estimates.create.placeholders.placeholder4' | translate}}\\\" />\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-md-6\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<label for=\\\"type\\\">{{'estimates.create.fields.discount_type' | translate}}</label>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ng-select [clearable]=\\\"false\\\" [searchable]=\\\"true\\\" [items]=\\\"('estimates.discount_type' | translate)\\\" [selectOnTab]=\\\"true\\\" bindLabel=\\\"label\\\" bindValue=\\\"id\\\" labelForId=\\\"discount_type\\\" formControlName=\\\"discount_type\\\" placeholder=\\\"{{'estimates.create.placeholders.placeholder5' | translate}}\\\" (change)=\\\"changeDiscountType($event)\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</ng-select>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\\\"col-md-12\\\">\\n\\t\\t\\t\\t<div class=\\\"card\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"card-form\\\">\\n\\t\\t\\t\\t\\t\\t<h4 class=\\\"card-title\\\">{{'estimates.headings.head4' | translate}}</h4>\\n\\t\\t\\t\\t\\t\\t<div class=\\\"card-button estimate-form\\\">\\n\\t\\t\\t\\t\\t\\t\\t<ng-select [clearable]=\\\"false\\\" [items]=\\\"items\\\" bindLabel=\\\"name\\\" bindValue=\\\"id\\\" (change)=\\\"changeItem($event)\\\" formControlName=\\\"selectedItem\\\" placeholder=\\\"{{'estimates.create.placeholders.placeholder7' | translate}}\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<ng-template ng-option-tmp let-item=\\\"item\\\" let-index=\\\"index\\\" let-search=\\\"searchTerm\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"card mt-1 mb-1\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"card-body p-2\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<h5 class=\\\"card-title\\\" [ngOptionHighlight]=\\\"search\\\">({{loginUser.currency.symbol}}{{item.price}}) {{item.name}}</h5>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<p class=\\\"card-text\\\">{{item.description}}</p>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t</ng-template>\\n\\t\\t\\t\\t\\t\\t\\t</ng-select>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\\\"card-body\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"table-responsive-xs table-responsive-sm table-responsive-md table-responsive-lg table-responsive-xl\\\">\\n\\t\\t\\t\\t\\t\\t\\t<table class=\\\"table table-bordered table-hover b4-datatable\\\" id=\\\"estimate_table\\\" width=\\\"100%\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<thead>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<th>{{'estimates.create.fields.item_name' | translate}}</th>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<th>{{'estimates.create.fields.item_description' | translate}}</th>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<th class=\\\"width-100\\\">{{'estimates.create.fields.quantity' | translate}}</th>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<th class=\\\"width-150\\\">{{'estimates.create.fields.unit_price' | translate}}</th>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<th class=\\\"width-250\\\">{{'estimates.create.fields.item_tax' | translate}}</th>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<th>{{'estimates.create.fields.total_item_amount' | translate}} ({{loginUser.currency.symbol}})</th>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<th class=\\\"text-right\\\">{{'common.actions' | translate}}</th>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t</thead>\\n\\t\\t\\t\\t\\t\\t\\t\\t<tbody>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<tr formArrayName=\\\"item\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<input type=\\\"text\\\" class=\\\"form-control\\\" formControlName=\\\"item_name\\\" id=\\\"item_name\\\" placeholder=\\\"{{'estimates.create.placeholders.placeholder8' | translate}}\\\" />\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<textarea class=\\\"form-control\\\" formControlName=\\\"item_description\\\" id=\\\"item_description\\\" placeholder=\\\"{{'estimates.create.placeholders.placeholder9' | translate}}\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</textarea>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<input type=\\\"number\\\" class=\\\"form-control\\\" formControlName=\\\"quantity\\\" id=\\\"quantity\\\" min=\\\"1\\\" placeholder=\\\"{{'estimates.create.placeholders.placeholder10' | translate}}\\\" />\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<input type=\\\"text\\\" class=\\\"inp\\\" formControlName=\\\"item_unit\\\" placeholder=\\\"{{'estimates.create.fields.unit' | translate}}\\\" />\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<input type=\\\"number\\\" class=\\\"form-control\\\" formControlName=\\\"unit_price\\\" id=\\\"unit_price\\\" min=\\\"0\\\" placeholder=\\\"{{'estimates.create.placeholders.placeholder11' | translate}}\\\" />\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ng-select [clearable]=\\\"false\\\" [searchable]=\\\"true\\\" [items]=\\\"taxes\\\" bindLabel=\\\"tax_name\\\" bindValue=\\\"id\\\" [multiple]=\\\"true\\\" [selectOnTab]=\\\"true\\\" formControlName=\\\"taxes\\\" placeholder=\\\"{{'estimates.create.placeholders.placeholder12' | translate}}\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ng-template ng-option-tmp let-item=\\\"item\\\" let-index=\\\"index\\\" let-search=\\\"searchTerm\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{{item.tax_name}}({{item.tax_rate}}%)\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</ng-template>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</ng-select>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td>&nbsp;</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"text-right\\\"><button (click)=\\\"addItem($event)\\\" class=\\\"btn btn-secondary\\\" placement=\\\"left\\\" tooltip=\\\"{{'common.add' | translate}}\\\"><i class=\\\"fa fa-plus\\\"></i></button></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<tr *ngFor=\\\"let item of itemsArray; index as i\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<inline-edit-input [name]=\\\"'item_name'\\\" [type]=\\\"'text'\\\" [fieldValue]=\\\"item.item_name\\\" [elementFor]=\\\"'estimates.inline_edit.item_name' | translate\\\" [isRequired]=\\\"'true'\\\" (updateValue)=\\\"saveItemDetail(i, 'item_name', $event);\\\"></inline-edit-input>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<inline-edit-textarea [name]=\\\"'item_description'\\\" [fieldValue]=\\\"item.item_description\\\" [elementFor]=\\\"'estimates.inline_edit.item_description' | translate\\\" [isRequired]=\\\"'false'\\\" (updateValue)=\\\"saveItemDetail(i, 'item_description', $event);\\\"></inline-edit-textarea>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<inline-edit-input [name]=\\\"'quantity'\\\" [type]=\\\"'number'\\\" [elementFor]=\\\"'estimates.inline_edit.quantity' | translate\\\" [fieldValue]=\\\"item.quantity\\\" [isRequired]=\\\"'true'\\\" (updateValue)=\\\"saveItemDetail(i, 'quantity', $event);\\\"></inline-edit-input>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<inline-edit-input [name]=\\\"'unit_price'\\\" [type]=\\\"'number'\\\" [elementFor]=\\\"'estimates.inline_edit.unit_price' | translate\\\" [fieldValue]=\\\"item.unit_price\\\" [isRequired]=\\\"'true'\\\" (updateValue)=\\\"saveItemDetail(i, 'unit_price', $event);\\\"></inline-edit-input>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<inline-edit-select-items [name]=\\\"'taxes'\\\" [txtField]=\\\"'Taxes'\\\" [elementFor]=\\\"'estimates.inline_edit.item_tax' | translate\\\" [selectedValue]=\\\"item.taxes\\\" [isRequired]=\\\"'true'\\\" [options]=\\\"taxes\\\" (updateValue)=\\\"saveItemDetail(i, 'taxes', $event);\\\"></inline-edit-select-items>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"text-center\\\">{{item.quantity * item.unit_price}}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"actions-dropdown text-right\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"btn-group\\\" dropdown>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<button dropdownToggle class=\\\"dropdown-toggle btn-action\\\" type=\\\"button\\\" id=\\\"button-basic-1\\\" aria-controls=\\\"dropdown-basic-1\\\"><i class=\\\"fa fa-ellipsis-v\\\"></i></button>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ul id=\\\"dropdown-basic-1\\\" *dropdownMenu class=\\\"dropdown-menu animated fadeIn\\\" role=\\\"menu\\\" aria-labelledby=\\\"button-basic-1\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<li role=\\\"menuitem\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<a (click)=\\\"deleteItem(i)\\\" class=\\\"dropdown-item btn btn-delete btn-raised\\\"><i class=\\\"fa fa-trash-o\\\" tooltip=\\\"{{'common.delete' | translate}}\\\"></i></a>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</ul>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t</tbody>\\n\\t\\t\\t\\t\\t\\t\\t\\t<tbody class=\\\"mt-4\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"text-right\\\"><strong>{{'estimates.create.fields.sub_total' | translate}}:</strong></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"text-center\\\">{{loginUser.currency.symbol}}{{ estimates.sub_total | number : '1.2-2' }}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<tr *ngFor=\\\"let tax of itemTaxes | keyvalue\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ng-container *ngIf=\\\"tax\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"text-right\\\"><strong>{{taxesNameValues[tax.key].tax_name}}({{taxesNameValues[tax.key].tax_rate}}%)</strong></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"text-center\\\">{{loginUser.currency.symbol}}{{tax.value | number : '1.2-2'}}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</ng-container>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"text-right\\\"><strong>{{'estimates.create.fields.discount' | translate}}</strong></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td><input type=\\\"number\\\" name=\\\"discount\\\" class=\\\"form-control\\\" formControlName=\\\"discount\\\" placeholder=\\\"00.00\\\" (change)=\\\"changeDiscountAdjustment($event, 'discount')\\\"></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"danger text-center\\\">(-) {{loginUser.currency.symbol}}{{total_discount | number : '1.2-2'}}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"text-right\\\"><strong>{{'estimates.create.fields.adjustment' | translate}}</strong></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td><input type=\\\"number\\\" name=\\\"adjustment\\\" min=\\\"0\\\" class=\\\"form-control\\\" formControlName=\\\"adjustment\\\" placeholder=\\\"00.00\\\" (change)=\\\"changeDiscountAdjustment($event, 'adjustment')\\\"></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"text-center\\\">{{loginUser.currency.symbol}}{{ estimates.adjustment }}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"text-right\\\"><strong>{{'estimates.create.fields.total_amount' | translate}}:</strong></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"text-center\\\">{{loginUser.currency.symbol}}{{ estimates.total | number : '1.2-2'}}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t</tbody>\\n\\t\\t\\t\\t\\t\\t\\t</table>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t<div class=\\\"col-md-12 text-right pt-3 pb-3\\\">\\n\\t\\t\\t\\t\\t\\t\\t<a [routerLink]=\\\"['/estimates']\\\" class=\\\"btn btn-cancel mb-0\\\">{{'common.cancel' | translate }}</a>\\n\\t\\t\\t\\t\\t\\t\\t<button type=\\\"submit\\\" class=\\\"btn btn-submit mb-0\\\">{{'common.create' | translate }}</button>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t</form>\\n</section>\\n\"","export default \"<section id=\\\"basic-form-layouts\\\">\\n\\t<form [formGroup]=\\\"editEstimateForm\\\" (ngSubmit)=\\\"onSubmit()\\\" *ngIf=\\\"isFormLoaded\\\">\\n\\t\\t<div class=\\\"row\\\">\\n\\t\\t\\t<div class=\\\"col-md-6\\\">\\n\\t\\t\\t\\t<div class=\\\"card\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"card-header\\\">\\n\\t\\t\\t\\t\\t\\t<h4 class=\\\"card-title\\\">{{'estimates.title3' | translate}}</h4>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\\\"card-body\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"px-3\\\">\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-body\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<h4 class=\\\"form-section\\\"><i class=\\\"ft-user\\\" aria-hidden=\\\"true\\\"></i>{{'estimates.headings.head1' | translate}}</h4>\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"row\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-md-6\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group\\\" [ngClass]=\\\"{ 'is-invalid': isFormSubmitted && estimateControl.client_id.errors }\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<label for=\\\"client_id\\\">{{'estimates.create.fields.customer' | translate}}&nbsp;<span class=\\\"text-danger\\\">*</span> </label>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ng-select [clearable]=\\\"false\\\" [searchable]=\\\"true\\\" [clearable]=\\\"false\\\" [items]=\\\"clients\\\" [selectOnTab]=\\\"true\\\" bindLabel=\\\"firstname\\\" bindValue=\\\"id\\\" labelForId=\\\"client_id\\\" formControlName=\\\"client_id\\\" placeholder=\\\"{{'estimates.create.placeholders.placeholder1' | translate}}\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ng-template ng-option-tmp let-item=\\\"item\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{{item.firstname}} {{item.lastname}}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</ng-template>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</ng-select>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div *ngIf=\\\"isFormSubmitted && estimateControl.client_id.errors\\\" class=\\\"invalid-feedback\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div *ngIf=\\\"estimateControl.client_id.errors.required\\\">{{'estimates.create.error_messages.message1' | translate}}</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t<h4 class=\\\"form-section\\\"><i class=\\\"ft-calendar\\\"></i>{{'estimates.headings.head2' | translate}}</h4>\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"row\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-md-6\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group\\\" [ngClass]=\\\"{ 'is-invalid': isFormSubmitted && estimateControl.estimate_date.errors }\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<label for=\\\"estimate_date\\\">{{'estimates.create.fields.estimate_date' | translate}}&nbsp;<span class=\\\"text-danger\\\">*</span></label>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"position-relative has-icon-left\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<input type=\\\"text\\\" class=\\\"form-control\\\" #dp1=\\\"bsDatepicker\\\" bsDatepicker [bsConfig]=\\\"datepickerConfig\\\" formControlName=\\\"estimate_date\\\" id=\\\"estimate_date\\\" placeholder=\\\"{{'estimates.create.placeholders.placeholder2' | translate}}\\\" />\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-control-position\\\"><i class=\\\"ft-calendar\\\"></i></div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div *ngIf=\\\"isFormSubmitted && estimateControl.estimate_date.errors\\\" class=\\\"invalid-feedback\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div *ngIf=\\\"estimateControl.estimate_date.errors.required\\\">{{'estimates.create.error_messages.message2' | translate}}</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-md-6\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group\\\" [ngClass]=\\\"{ 'is-invalid': isFormSubmitted && estimateControl.valid_till.errors }\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<label for=\\\"end-date\\\">{{'estimates.create.fields.valid_till' | translate}}&nbsp;<span class=\\\"text-danger\\\">*</span></label>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"position-relative has-icon-left\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<input type=\\\"text\\\" class=\\\"form-control\\\" #dp2=\\\"bsDatepicker\\\" bsDatepicker [bsConfig]=\\\"datepickerConfig\\\" formControlName=\\\"valid_till\\\" id=\\\"valid_till\\\" placeholder=\\\"{{'estimates.create.placeholders.placeholder3' | translate}}\\\" />\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-control-position\\\"><i class=\\\"ft-calendar\\\"></i></div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div *ngIf=\\\"isFormSubmitted && estimateControl.valid_till.errors\\\" class=\\\"invalid-feedback\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div *ngIf=\\\"estimateControl.valid_till.errors.required\\\">{{'estimates.create.error_messages.message3' | translate}}</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\\\"col-md-6\\\">\\n\\t\\t\\t\\t<div class=\\\"card\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"card-header\\\">&nbsp;</div>\\n\\t\\t\\t\\t\\t<div class=\\\"card-body\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"px-3\\\">\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-body\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<h4 class=\\\"form-section\\\"><i class=\\\"ft-box\\\"></i>{{'estimates.headings.head3' | translate}}</h4>\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"row\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-md-6\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<label for=\\\"estimate_number\\\">{{'estimates.create.fields.estimate_number' | translate}} #</label>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<input type=\\\"text\\\" aria-describedby=\\\"basic-addon1\\\" class=\\\"form-control\\\" formControlName=\\\"estimate_number\\\" id=\\\"estimate_number\\\" readonly=\\\"\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-md-6\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<label for=\\\"reference\\\">{{'estimates.create.fields.reference' | translate}} #</label>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<input type=\\\"text\\\" class=\\\"form-control\\\" formControlName=\\\"reference\\\" id=\\\"reference\\\" placeholder=\\\"{{'estimates.create.placeholders.placeholder4' | translate}}\\\" />\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-md-6\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<label for=\\\"type\\\">{{'estimates.create.fields.discount_type' | translate}}</label>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ng-select [clearable]=\\\"false\\\" [searchable]=\\\"true\\\" [items]=\\\"('estimates.discount_type' | translate)\\\" [selectOnTab]=\\\"true\\\" bindLabel=\\\"label\\\" bindValue=\\\"id\\\" labelForId=\\\"discount_type\\\" formControlName=\\\"discount_type\\\" placeholder=\\\"{{'estimates.create.placeholders.placeholder5' | translate}}\\\" (change)=\\\"changeDiscountType($event)\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</ng-select>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\\\"col-md-12\\\">\\n\\t\\t\\t\\t<div class=\\\"card\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"card-form\\\">\\n\\t\\t\\t\\t\\t\\t<h4 class=\\\"card-title\\\">{{'estimates.headings.head4' | translate}}</h4>\\n\\t\\t\\t\\t\\t\\t<div class=\\\"card-button estimate-form\\\">\\n\\t\\t\\t\\t\\t\\t\\t<ng-select [clearable]=\\\"false\\\" [items]=\\\"items\\\" bindLabel=\\\"name\\\" bindValue=\\\"id\\\" (change)=\\\"changeItem($event)\\\" formControlName=\\\"selectedItem\\\" placeholder=\\\"{{'estimates.create.placeholders.placeholder7' | translate}}\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<ng-template ng-option-tmp let-item=\\\"item\\\" let-index=\\\"index\\\" let-search=\\\"searchTerm\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"card mt-1 mb-1\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"card-body p-2\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<h5 class=\\\"card-title\\\" [ngOptionHighlight]=\\\"search\\\">({{loginUser.currency.symbol}}{{item.price}}) {{item.name}}</h5>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<p class=\\\"card-text\\\">{{item.description}}</p>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t</ng-template>\\n\\t\\t\\t\\t\\t\\t\\t</ng-select>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\\\"card-body\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"table-responsive-xs table-responsive-sm table-responsive-md table-responsive-lg table-responsive-xl\\\">\\n\\t\\t\\t\\t\\t\\t\\t<table class=\\\"table table-bordered table-hover b4-datatable\\\" id=\\\"estimate_table\\\" width=\\\"100%\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<thead>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<th>{{'estimates.create.fields.item_name' | translate}}</th>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<th>{{'estimates.create.fields.item_description' | translate}}</th>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<th class=\\\"width-100\\\">{{'estimates.create.fields.quantity' | translate}}</th>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<th class=\\\"width-150\\\">{{'estimates.create.fields.unit_price' | translate}}</th>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<th class=\\\"width-250\\\">{{'estimates.create.fields.item_tax' | translate}}</th>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<th>{{'estimates.create.fields.total_item_amount' | translate}} ({{loginUser.currency.symbol}})</th>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<th class=\\\"text-right\\\">{{'common.actions' | translate}}</th>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t</thead>\\n\\t\\t\\t\\t\\t\\t\\t\\t<tbody>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<tr formArrayName=\\\"item\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<input type=\\\"text\\\" class=\\\"form-control\\\" formControlName=\\\"item_name\\\" id=\\\"item_name\\\" placeholder=\\\"{{'estimates.create.placeholders.placeholder8' | translate}}\\\" />\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<textarea class=\\\"form-control\\\" formControlName=\\\"item_description\\\" id=\\\"item_description\\\" placeholder=\\\"{{'estimates.create.placeholders.placeholder9' | translate}}\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</textarea>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<input type=\\\"number\\\" class=\\\"form-control\\\" formControlName=\\\"quantity\\\" id=\\\"quantity\\\" min=\\\"1\\\" placeholder=\\\"{{'estimates.create.placeholders.placeholder10' | translate}}\\\" />\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<input type=\\\"text\\\" class=\\\"inp\\\" formControlName=\\\"item_unit\\\" placeholder=\\\"{{'estimates.create.fields.unit' | translate}}\\\" />\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<input type=\\\"number\\\" class=\\\"form-control\\\" formControlName=\\\"unit_price\\\" id=\\\"unit_price\\\" min=\\\"0\\\" placeholder=\\\"{{'estimates.create.placeholders.placeholder11' | translate}}\\\" />\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"form-group\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ng-select [clearable]=\\\"false\\\" [searchable]=\\\"true\\\" [items]=\\\"taxes\\\" bindLabel=\\\"tax_name\\\" bindValue=\\\"id\\\" [multiple]=\\\"true\\\" [selectOnTab]=\\\"true\\\" formControlName=\\\"taxes\\\" placeholder=\\\"{{'estimates.create.placeholders.placeholder12' | translate}}\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ng-template ng-option-tmp let-item=\\\"item\\\" let-index=\\\"index\\\" let-search=\\\"searchTerm\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{{item.tax_name}}({{item.tax_rate}}%)\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</ng-template>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</ng-select>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td>&nbsp;</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"text-right\\\"><button (click)=\\\"addItem($event)\\\" class=\\\"btn btn-secondary\\\" placement=\\\"left\\\" tooltip=\\\"{{'common.add' | translate}}\\\"><i class=\\\"fa fa-plus\\\"></i></button></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<tr *ngFor=\\\"let item of itemsArray; index as i\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<inline-edit-input [name]=\\\"'item_name'\\\" [type]=\\\"'text'\\\" [elementFor]=\\\"'estimates.inline_edit.item_name' | translate\\\" [fieldValue]=\\\"item.item_name\\\" [isRequired]=\\\"'true'\\\" (updateValue)=\\\"saveItemDetail(i, 'item_name', $event);\\\"></inline-edit-input>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<inline-edit-textarea [name]=\\\"'item_description'\\\" [fieldValue]=\\\"item.item_description\\\" [elementFor]=\\\"'estimates.inline_edit.item_description' | translate\\\" [isRequired]=\\\"'false'\\\" (updateValue)=\\\"saveItemDetail(i, 'item_description', $event);\\\"></inline-edit-textarea>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<inline-edit-input [name]=\\\"'quantity'\\\" [type]=\\\"'number'\\\" [elementFor]=\\\"'estimates.inline_edit.quantity' | translate\\\" [fieldValue]=\\\"item.quantity\\\" [isRequired]=\\\"'true'\\\" (updateValue)=\\\"saveItemDetail(i, 'quantity', $event);\\\"></inline-edit-input>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<inline-edit-input [name]=\\\"'unit_price'\\\" [type]=\\\"'number'\\\" [elementFor]=\\\"'estimates.inline_edit.unit_price' | translate\\\" [fieldValue]=\\\"item.unit_price\\\" [isRequired]=\\\"'true'\\\" (updateValue)=\\\"saveItemDetail(i, 'unit_price', $event);\\\"></inline-edit-input>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<inline-edit-select-items [name]=\\\"'taxes'\\\" [txtField]=\\\"'Taxes'\\\" [elementFor]=\\\"'estimates.inline_edit.item_tax' | translate\\\" [selectedValue]=\\\"item.taxes\\\" [isRequired]=\\\"'true'\\\" [options]=\\\"taxes\\\" (updateValue)=\\\"saveItemDetail(i, 'taxes', $event);\\\"></inline-edit-select-items>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"text-center\\\">{{item.quantity * item.unit_price}}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"actions-dropdown text-right\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"btn-group\\\" dropdown>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<button dropdownToggle class=\\\"dropdown-toggle btn-action\\\" type=\\\"button\\\" id=\\\"button-basic-1\\\" aria-controls=\\\"dropdown-basic-1\\\"><i class=\\\"fa fa-ellipsis-v\\\"></i></button>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ul id=\\\"dropdown-basic-1\\\" *dropdownMenu class=\\\"dropdown-menu animated fadeIn\\\" role=\\\"menu\\\" aria-labelledby=\\\"button-basic-1\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<li role=\\\"menuitem\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<a (click)=\\\"deleteItem(i)\\\" class=\\\"dropdown-item btn btn-delete btn-raised\\\"><i class=\\\"fa fa-trash-o\\\" tooltip=\\\"{{'common.delete' | translate}}\\\"></i></a>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</ul>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t</tbody>\\n\\t\\t\\t\\t\\t\\t\\t\\t<tbody class=\\\"mt-4\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"text-right\\\"><strong>{{'estimates.create.fields.sub_total' | translate}}:</strong></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"text-center\\\">{{loginUser.currency.symbol}}{{estimates.sub_total | number : '1.2-2'}}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<tr *ngFor=\\\"let tax of itemTaxes | keyvalue\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ng-container *ngIf=\\\"tax\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"text-right\\\"><strong>{{taxesNameValues[tax.key].tax_name}}({{taxesNameValues[tax.key].tax_rate}}%)</strong></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"text-center\\\">{{loginUser.currency.symbol}}{{tax.value | number : '1.2-2'}}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</ng-container>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"text-right\\\"><strong>{{'estimates.create.fields.discount' | translate}}</strong></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td><input type=\\\"number\\\" name=\\\"discount\\\" class=\\\"form-control\\\" formControlName=\\\"discount\\\" placeholder=\\\"00.00\\\" (change)=\\\"changeDiscountAdjustment($event, 'discount')\\\" ></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"danger text-center\\\">(-) {{loginUser.currency.symbol}}{{total_discount | number : '1.2-2'}}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"text-right\\\"><strong>{{'estimates.create.fields.adjustment' | translate}}</strong></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td><input type=\\\"number\\\" name=\\\"adjustment\\\" min=\\\"0\\\" class=\\\"form-control\\\" formControlName=\\\"adjustment\\\" placeholder=\\\"00.00\\\" (change)=\\\"changeDiscountAdjustment($event, 'adjustment')\\\" ></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"text-center\\\">{{loginUser.currency.symbol}}{{estimates.adjustment | number : '1.2-2'}}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"text-right\\\"><strong>{{'estimates.create.fields.total_amount' | translate}}:</strong></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"text-center\\\">{{loginUser.currency.symbol}}{{estimates.total | number : '1.2-2'}}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t</tbody>\\n\\t\\t\\t\\t\\t\\t\\t</table>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t<div class=\\\"col-md-12 text-right pt-3 pb-3\\\">\\n\\t\\t\\t\\t\\t\\t\\t<a [routerLink]=\\\"['/estimates']\\\" class=\\\"btn btn-cancel mb-0\\\">{{'common.cancel' | translate }}</a>\\n\\t\\t\\t\\t\\t\\t\\t<button type=\\\"submit\\\" class=\\\"btn btn-submit mb-0\\\">{{'common.edit' | translate }}</button>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t</form>\\n</section>\\n\"","export default \"<section class=\\\"hide_empty_message\\\">\\n\\t<div class=\\\"row\\\">\\n\\t\\t<div class=\\\"col-sm-12\\\">\\n\\t\\t\\t<div class=\\\"card pl-2 pr-2\\\">\\n\\t\\t\\t\\t<div class=\\\"card-header pl-0 pr-0 border-bottom\\\">\\n\\t\\t\\t\\t\\t<h4 class=\\\"main-title mt-2\\\"><span>{{'estimates.title' | translate}}</span></h4>\\n\\t\\t\\t\\t\\t<div class=\\\"card-buttons\\\" *ngxPermissionsOnly=\\\"['admin', 'super_admin', 'estimates_create']\\\">\\n\\t\\t\\t\\t\\t\\t<a class=\\\"btn btn-create mb-0\\\" [routerLink]=\\\"['/estimates/create']\\\" tooltip=\\\"{{'common.create' | translate}}\\\"><i class=\\\"fa fa-plus\\\"></i></a>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<div class=\\\"card-content pt-3 pb-3\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"card-body\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"row\\\">\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-sm-12\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"table-responsive-xs table-responsive-sm table-responsive-md table-responsive-lg table-responsive-xl\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<table datatable [dtOptions]=\\\"dtOptions\\\" [dtTrigger]=\\\"dtTrigger\\\" class=\\\"table table-bordered table-hover b4-datatable\\\" width=\\\"100%\\\" id=\\\"estimate_table\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<thead>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<th>{{'estimates.columns.estimate_number' | translate}} #</th>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<th>{{'estimates.columns.customer' | translate}}</th>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<th>{{'estimates.columns.estimate_date' | translate}}</th>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<th>{{'estimates.columns.valid_till' | translate}}</th>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<th>{{'estimates.columns.total_amount' | translate}}</th>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<th>{{'estimates.columns.status' | translate}}</th>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<th>{{'common.actions' | translate}}</th>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</thead>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<tbody>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<tr *ngFor=\\\"let estimate of estimates; index as i\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td><a [routerLink]=\\\"['/estimates/detail', estimate.id]\\\">{{estimate.estimate_number}}</a></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td>{{estimate.client_firstname}} {{estimate.client_lastname}}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td>{{estimate.estimate_date | dateTimeFormatFilter: loginUser.settings.date_format}}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td>{{estimate.valid_till | dateTimeFormatFilter: loginUser.settings.date_format}}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td>{{loginUser.currency.symbol}}{{estimate.total_amount | number : '1.2-2'}}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"budges-status\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ng-container *ngFor=\\\"let status of ('estimates.status' | translate)\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span class=\\\"{{status.class}}\\\" *ngIf=\\\"status.id == estimate.status\\\">{{status.label}}</span>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</ng-container>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"actions-dropdown\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"btn-group\\\" dropdown>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<button dropdownToggle class=\\\"dropdown-toggle btn-action\\\" type=\\\"button\\\" id=\\\"button-basic-1\\\" aria-controls=\\\"dropdown-basic-1\\\"><i class=\\\"fa fa-ellipsis-v\\\"></i></button>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ul id=\\\"dropdown-basic-1\\\" *dropdownMenu class=\\\"dropdown-menu animated fadeIn\\\" role=\\\"menu\\\" aria-labelledby=\\\"button-basic-1\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<li role=\\\"menuitem\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<a *ngxPermissionsOnly=\\\"['admin', 'super_admin', 'estimates_edit']\\\" [routerLink]=\\\"['/estimates/edit', estimate.id]\\\" class=\\\"dropdown-item btn btn-edit btn-raised\\\"><i class=\\\"fa fa-pencil-square-o\\\" tooltip=\\\"{{'common.edit' | translate}}\\\"></i></a>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<li role=\\\"menuitem\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<a *ngxPermissionsOnly=\\\"['admin', 'super_admin', 'estimates_delete']\\\" (click)=\\\"deleteEstimate(estimate.id)\\\" class=\\\"dropdown-item btn btn-delete btn-raised\\\"><i class=\\\"fa fa-trash-o\\\" tooltip=\\\"{{'common.delete' | translate}}\\\"></i></a>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</ul>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</tbody>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<tfoot *ngIf=\\\"estimates?.length == 0\\\" class=\\\"tfoot_dt\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td colspan=\\\"7\\\" class=\\\"no-data-available text-center\\\">{{'common.datatable.sEmptyTable' | translate}}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</tfoot>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</table>\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t</div>\\n</section>\\n\"","export default \"<section *ngIf=\\\"isPageLoad\\\">\\n\\t<div class=\\\"row\\\">\\n\\t\\t<div class=\\\"col-12 text-center text-sm-right\\\">\\n\\t\\t\\t<a href=\\\"{{apiUrl}}/estimates/download/{{estimate.secret_id}}/{{estimate.client.id}}\\\" *ngxPermissionsOnly=\\\"['admin', 'super_admin', 'estimates_view']\\\" type=\\\"button\\\" class=\\\"btn btn-secondary text-white mb-0\\\"><i class=\\\"ft-upload mr-1\\\"></i>{{'estimates.view.download' | translate}}</a>\\n\\t\\t</div>\\n\\t</div>\\n\\t<div class=\\\"row\\\" id=\\\"estimate_table\\\">\\n\\t\\t<div class=\\\"col-md-12 col-12\\\">\\n\\t\\t\\t<div class=\\\"card\\\">\\n\\t\\t\\t\\t<div class=\\\"card-content p-3\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"card-body pb-0\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"row\\\">\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-md-6 col-12\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"ribbon ribbon-bookmark ribbon-draft\\\" *ngIf=\\\"estimate.status == 'draft'\\\">{{'estimates.view.draft' | translate}}</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"ribbon ribbon-bookmark ribbon-sent\\\" *ngIf=\\\"estimate.status == 'sent'\\\">{{'estimates.view.sent' | translate}}</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"ribbon ribbon-bookmark ribbon-expired\\\" *ngIf=\\\"estimate.status == 'expired'\\\">{{'estimates.view.expired' | translate}}</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"ribbon ribbon-bookmark ribbon-declined\\\" *ngIf=\\\"estimate.status == 'declined'\\\">{{'estimates.view.decline' | translate}}</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"ribbon ribbon-bookmark ribbon-accepted\\\" *ngIf=\\\"estimate.status == 'accepted'\\\">{{'estimates.view.accepted' | translate}}</div>\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"media logo-img pt-5\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<img *ngIf=\\\"estimateSettings.estimate_logo\\\" src=\\\"{{apiUrl}}/uploads/estimate_logo/{{estimateSettings.estimate_logo}}\\\" alt=\\\"Estimate Logo\\\" width=\\\"80\\\" height=\\\"80\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<img *ngIf=\\\"!estimateSettings.estimate_logo\\\" src=\\\"assets/img/logos/vipspm_logo.png\\\" alt=\\\"Estimate Logo\\\" width=\\\"80\\\" height=\\\"80\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"media-body ml-4\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ul class=\\\"m-0 list-unstyled\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<li class=\\\"text-bold-800\\\">{{loginUser.settings.company_name}}</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<li class=\\\"nl2br\\\">{{loginUser.settings.company_address}}</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<li>{{loginUser.settings.company_phone}}</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</ul>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-md-6 col-12 text-right\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<h2 class=\\\"primary text-uppercase\\\">{{'estimates.title4' | translate}}</h2>\\n\\t\\t\\t\\t\\t\\t\\t\\t<p class=\\\"pb-3\\\"># {{estimate.estimate_number}}</p>\\n\\t\\t\\t\\t\\t\\t\\t\\t<!-- <ul class=\\\"px-0 list-unstyled\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<li>{{'estimates.view.balance_due' | translate}}</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<li class=\\\"font-medium-2 text-bold-700\\\">{{loginUser.currency.symbol}}{{estimates.total | number : '1.2-2'}}</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t</ul> -->\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t<div id=\\\"invoice-customer-details\\\" class=\\\"row\\\">\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-12\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<p class=\\\"text-muted mb-1\\\">{{'estimates.view.bill_to' | translate}}</p>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-md-4 col-12 text-left\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<ul class=\\\"m-0 list-unstyled\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<li class=\\\"text-bold-800\\\">{{estimate.client.firstname}} {{estimate.client.lastname}}</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<li class=\\\"nl2br\\\">{{estimate.client.address}}</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<li>{{estimate.client.phone}}</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<li>{{estimate.client.mobile}}</li>\\n\\t\\t\\t\\t\\t\\t\\t\\t</ul>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-md-8 col-12 text-right\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<p *ngIf=\\\"estimate.reference\\\"><span class=\\\"text-muted\\\">{{'estimates.create.fields.reference' | translate}} :</span> {{estimate.reference}}</p>\\n\\t\\t\\t\\t\\t\\t\\t\\t<p><span class=\\\"text-muted\\\">{{'estimates.view.estimate_date' | translate}} :</span> {{estimate.estimate_date | dateTimeFormatFilter: loginUser.settings.date_format}}</p>\\n\\t\\t\\t\\t\\t\\t\\t\\t<p class=\\\"m-0\\\" ><span class=\\\"text-muted\\\">{{'estimates.view.due_date' | translate}} :</span> {{estimate.valid_till | dateTimeFormatFilter: loginUser.settings.date_format}}</p>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t<div id=\\\"invoice-items-details\\\">\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"row\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"table-responsive col-12\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<table class=\\\"table mt-3\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<thead>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<th>#</th>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<th>{{'estimates.create.fields.item_name' | translate}} &amp; {{'estimates.create.fields.item_description' | translate}}</th>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<th>{{'estimates.create.fields.quantity' | translate}}</th>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<th>{{'estimates.create.fields.unit_price' | translate}}</th>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<th>{{'estimates.create.fields.item_tax' | translate}}</th>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<th class=\\\"text-right\\\">{{'estimates.create.fields.total_item_amount' | translate}} ({{loginUser.currency.symbol}})</th>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</thead>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<tbody>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<tr *ngFor=\\\"let item of estimate.items; index as i\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<th scope=\\\"row\\\">{{i + 1}}</th>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<p class=\\\"mb-0\\\">{{item.item_name}}</p>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<p class=\\\"mb-0 text-muted\\\">{{item.item_description}}</p>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td><span>{{item.quantity}}<small>&nbsp;{{item.item_unit}}</small></span></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td>{{item.unit_price}}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"budges-status\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ng-container *ngFor=\\\"let tax of item.taxes\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span class=\\\"open\\\">{{tax.tax_name}} ({{tax.tax_rate}}%)</span>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</ng-container>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"text-right\\\">{{item.unit_price * item.quantity}}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</tbody>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</table>\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"row mt-3 mt-md-0\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-md-6 col-12 text-left\\\"></div>\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-md-6 col-12\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"table-responsive-xs table-responsive-sm table-responsive-md table-responsive-lg table-responsive-xl\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<table class=\\\"table\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<tbody>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td>{{'estimates.create.fields.sub_total' | translate}}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"text-right\\\">{{loginUser.currency.symbol}}{{estimates.sub_total | number : '1.2-2'}}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<tr *ngFor=\\\"let tax of itemTaxes | keyvalue\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td>{{taxesNameValues[tax.key].tax_name}} ({{taxesNameValues[tax.key].tax_rate}}%)</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"text-right\\\">{{loginUser.currency.symbol}}{{tax.value | number : '1.2-2'}}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td>{{'estimates.create.fields.discount' | translate}}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"danger text-right\\\">(-) {{loginUser.currency.symbol}}{{estimate.total_discount | number : '1.2-2'}}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td>{{'estimates.create.fields.adjustment' | translate}}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"text-right\\\">{{loginUser.currency.symbol}}{{estimate.adjustment | number : '1.2-2'}}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"text-bold-500\\\">{{'estimates.create.fields.total_amount' | translate}}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"text-bold-500 text-right\\\"> {{loginUser.currency.symbol}}{{estimates.total | number : '1.2-2'}}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</tbody>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</table>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"row mt-2 mt-sm-0 pt-3 border-top\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-md-12 col-12 d-flex align-items-center\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"terms-conditions mb-2\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<h6><strong>{{'estimates.view.terms' | translate}}</strong></h6>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<p>{{estimateSettings.terms_conditions}}</p>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t</div>\\n\\t<div class=\\\"row\\\">\\n\\t\\t<div class=\\\"col-12 text-center text-sm-right\\\">\\n\\t\\t\\t<ng-container *ngIf=\\\"estimate.status == 'draft' || estimate.status == 'sent'\\\">\\n\\t\\t\\t\\t<button type=\\\"button\\\" class=\\\"btn btn-submit\\\" (click)=\\\"changeEstimateStatus(estimate.id, 'accepted');\\\">{{'estimates.view.accept' | translate}}</button>\\n\\t\\t\\t\\t<button type=\\\"button\\\" class=\\\"btn btn-cancel\\\" (click)=\\\"changeEstimateStatus(estimate.id, 'declined');\\\">{{'estimates.view.decline' | translate}}</button>\\n\\t\\t\\t</ng-container>\\n\\t\\t\\t<ng-container *ngIf=\\\"estimate.status == 'declined'\\\">\\n\\t\\t\\t\\t<button type=\\\"button\\\" class=\\\"btn btn-submit\\\" (click)=\\\"changeEstimateStatus(estimate.id, 'accepted');\\\">{{'estimates.view.accept' | translate}}</button>\\n\\t\\t\\t</ng-container>\\n\\t\\t</div>\\n\\t</div>\\n</section>\"","export const estimate_status_value = [];\nestimate_status_value[\"draft\"] = 'common.status.draft';\nestimate_status_value[\"sent\"] = 'common.status.sent';\nestimate_status_value[\"expired\"] = 'common.status.expired';\nestimate_status_value[\"declined\"] = 'common.status.declined';\nestimate_status_value[\"accepted\"] = 'common.status.accepted';\n\n// --\n// Invoice status\nexport const invoice_status_value = [];\nestimate_status_value['paid'] = 'common.status.paid';\nestimate_status_value['partially_paid'] = 'common.status.partially_paid';\nestimate_status_value['unpaid'] = 'common.status.unpaid';","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\n\nimport { Client } from '../../shared/models/client.model';\n\nimport { environment } from '../../../environments/environment';\n\n@Injectable({\n\tprovidedIn: 'root'\n})\n\nexport class ClientService {\n\tprivate apiUrl = environment.apiUrl;\n\n\tconstructor(private http: HttpClient) { }\n\n\tgetAll() {\n\t\treturn this.http.get<Client[]>(`${this.apiUrl}/api/clients`);\n\t}\n\n\tgetClientsWithTrashed() {\n\t\treturn this.http.get<Client[]>(`${this.apiUrl}/api/clients/withtrashed`);\n\t}\n\n\tgetById(id: number) {\n\t\treturn this.http.get(`${this.apiUrl}/api/clients/${id}`);\n\t}\n\n\tcreate(client: Client) {\n\t\treturn this.http.post(`${this.apiUrl}/api/clients`, client);\n\t}\n\n\tupdate(client: Client) {\n\t\treturn this.http.put(`${this.apiUrl}/api/clients/${client.id}`, client);\n\t}\n\n\tdelete(id: number, params: any) {\n\t\treturn this.http.post(`${this.apiUrl}/api/clients/delete/${id}`, params);\n\t}\n\n\tsetActiveDeactiveUser(client: Client) {\n\t\treturn this.http.put(`${this.apiUrl}/api/clients/status-change/${client.id}`, client);\n\t}\n\n\tsendInviteUserMail(id) {\n\t\treturn this.http.get(`${this.apiUrl}/api/users/invite/${id}`);\n\t}\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\n\nimport { Estimate } from '../../shared/models/estimate.model';\n\nimport { environment } from '../../../environments/environment';\n\n@Injectable({\n\tprovidedIn: 'root'\n})\n\nexport class EstimateService {\n  \tprivate apiUrl = environment.apiUrl;\n\n\tconstructor(private http: HttpClient) { }\n\n\tgetAll(year) {\n\t\treturn this.http.get<Estimate[]>(`${this.apiUrl}/api/estimates`);\n\t}\n\n\tgetById(id: number) {\n\t\treturn this.http.get(`${this.apiUrl}/api/estimates/${id}`);\n\t}\n\n\tcreate(estimate) {\n\t\treturn this.http.post(`${this.apiUrl}/api/estimates`, estimate);\n\t}\n\n\tupdate(estimate) {\n\t\treturn this.http.put(`${this.apiUrl}/api/estimates/${estimate.id}`, estimate);\n\t}\n\n\tdelete(id: number) {\n\t\treturn this.http.delete(`${this.apiUrl}/api/estimates/${id}`);\n\t}\n\n\tchangeStatus(estimate: any) {\n\t\treturn this.http.post(`${this.apiUrl}/api/estimates/change-status/${estimate.id}`, { \"status\": estimate.status });\n\t}\n\n\tdownload(id) {\n\t\treturn this.http.get(`${this.apiUrl}/api/estimates/download/${id}`);\n\t}\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { NgxPermissionsGuard } from 'ngx-permissions';\n\nimport { EstimateListsComponent } from './pages/estimate-lists/estimate-lists.component';\nimport { EstimateCreateComponent } from './pages/estimate-create/estimate-create.component';\nimport { EstimateEditComponent } from './pages/estimate-edit/estimate-edit.component';\nimport { EstimateViewComponent } from './pages/estimate-view/estimate-view.component';\n\nconst routes: Routes = [{\n\tpath: '' ,\n\t\tchildren: [\n\t\t\t{\n\t\t\t\tpath: '',\n\t\t\t\tcanActivate: [NgxPermissionsGuard],\n\t\t\t\tcomponent: EstimateListsComponent\n\t\t\t},\n\t\t\t{\n\t\t\t\tpath: 'create',\n\t\t\t\tcanActivate: [NgxPermissionsGuard],\n\t\t\t\tdata: {\n\t\t\t\t\tbreadcrumbs: {\n\t\t\t\t\t\ttext: \"common.create\",\n\t\t\t\t\t\ticon: \"fa fa-external-link\",\n\t\t\t\t\t\tshow: true,\n\t\t\t\t\t\tisHome: true\n\t\t\t\t\t},\n\t\t\t\t\tpermissions: {\n\t\t\t\t\t\tonly: ['admin', 'super_admin', 'estimates_create']\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tcomponent: EstimateCreateComponent\n\t\t\t},\n\t\t\t{\n\t\t\t\tpath: 'edit/:id',\n\t\t\t\tcanActivate: [NgxPermissionsGuard],\n\t\t\t\tdata: {\n\t\t\t\t\tbreadcrumbs: {\n\t\t\t\t\t\ttext: \"common.edit\",\n\t\t\t\t\t\ticon: \"fa fa-external-link\",\n\t\t\t\t\t\tshow: true,\n\t\t\t\t\t\tisHome: true\n\t\t\t\t\t},\n\t\t\t\t\tpermissions: {\n\t\t\t\t\t\tonly: ['admin', 'super_admin', 'estimates_edit']\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tcomponent: EstimateEditComponent\n\t\t\t},\n\t\t\t{\n\t\t\t\tpath: 'detail/:id',\n\t\t\t\tcanActivate: [NgxPermissionsGuard],\n\t\t\t\tdata: {\n\t\t\t\t\tbreadcrumbs: {\n\t\t\t\t\t\ttext: \"common.detail\",\n\t\t\t\t\t\ticon: \"fa fa-external-link\"\n\t\t\t\t\t},\n\t\t\t\t\tpermissions: {\n\t\t\t\t\t\tonly: ['admin', 'super_admin', 'estimates_view']\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tcomponent: EstimateViewComponent\n\t\t\t}\n\t\t]\n\t}\n]\n\n@NgModule({\n\timports: [RouterModule.forChild(routes)],\n\texports: [RouterModule]\n})\n\nexport class EstimatesRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { HttpClient, HttpClientModule, HTTP_INTERCEPTORS } from '@angular/common/http';\nimport {\n\tModalModule,\n\tTooltipModule,\n\tBsDropdownModule,\n\tDatepickerModule,\n\tBsDatepickerModule\n} from 'ngx-bootstrap';\nimport { ExportAsModule } from 'ngx-export-as';\nimport { NgxEditorModule } from 'ngx-editor';\nimport { NgxPermissionsModule } from 'ngx-permissions';\nimport { NgSelectModule } from '@ng-select/ng-select';\nimport { TranslateModule, TranslateLoader } from '@ngx-translate/core';\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\nimport { DataTablesModule } from 'angular-datatables';\n\nimport { EstimatesRoutingModule } from './estimates-routing.module';\nimport { SharedModule } from '../../../shared/shared.module';\n\nimport { EstimateListsComponent } from './pages/estimate-lists/estimate-lists.component';\nimport { EstimateCreateComponent } from './pages/estimate-create/estimate-create.component';\nimport { EstimateEditComponent } from './pages/estimate-edit/estimate-edit.component';\nimport { EstimateViewComponent } from './pages/estimate-view/estimate-view.component';\n\n@NgModule({\n\tdeclarations: [\n\t\tEstimateListsComponent,\n\t\tEstimateCreateComponent,\n\t\tEstimateEditComponent,\n\t\tEstimateViewComponent\n\t],\n\timports: [\n\t\tCommonModule,\n\t\tEstimatesRoutingModule,\n\t\tFormsModule,\n\t\tReactiveFormsModule,\n\t\tNgxPermissionsModule,\n\t\tDataTablesModule,\n\t\tExportAsModule,\n\t\tNgxEditorModule,\n\t\tNgSelectModule,\n\t\tModalModule.forRoot(),\n\t\tDatepickerModule.forRoot(),\n\t\tBsDatepickerModule.forRoot(),\n\t\tTooltipModule.forRoot(),\n\t\tBsDropdownModule.forRoot(),\n\t\tTranslateModule.forChild({\n\t\t\tloader: {\n\t\t\t\tprovide: TranslateLoader,\n\t\t\t\tuseFactory: (HttpLoaderFactory),\n\t\t\t\tdeps: [HttpClient]\n\t\t\t}\n\t\t}),\n\t\tSharedModule\n\t]\n})\n\nexport class EstimatesModule { }\n\n// Required for AOT compilation\nexport function HttpLoaderFactory(http: HttpClient) {\n\treturn new TranslateHttpLoader(http, '../assets/i18n/', '.json');\n}\n","export default \".ng-select.ng-select-single .ng-select-container {\\n  min-width: 500px;\\n}\\n\\n.inp {\\n  border: none;\\n  border-bottom: 1px solid #e8eef3;\\n  padding: 5px 10px;\\n  outline: none;\\n  width: 100%;\\n}\\n\\n[placeholder]:focus::-webkit-input-placeholder {\\n  transition: text-indent 0.4s 0.4s ease;\\n  text-indent: -100%;\\n  opacity: 1;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy90aHVhbmRpbmgvRGVza3RvcC9iYWNrZW5kL2dsYXZhbHBtcy9jb2RlY2FueW9uLVRMZXlGajliLXZpcHNwbS1hbmd1bGFyOC1sYXJhdmVsNTctcHJvamVjdC1zdWl0ZS1VUERBVEUxNDEyMjAyMC9TZXBhcmF0ZV9pbnN0YWxsYXRpb24vVmlwc1BNX2FuZ3VsYXIvc3JjL2FwcC9tb2R1bGVzL3NhbGVzL2VzdGltYXRlcy9wYWdlcy9lc3RpbWF0ZS1jcmVhdGUvZXN0aW1hdGUtY3JlYXRlLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9tb2R1bGVzL3NhbGVzL2VzdGltYXRlcy9wYWdlcy9lc3RpbWF0ZS1jcmVhdGUvZXN0aW1hdGUtY3JlYXRlLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBRUMsZ0JBQUE7QUNBRDs7QURFQTtFQUNDLFlBQUE7RUFDQSxnQ0FBQTtFQUNBLGlCQUFBO0VBQ0EsYUFBQTtFQUNBLFdBQUE7QUNDRDs7QURFQTtFQUNDLHNDQUFBO0VBQ0Esa0JBQUE7RUFDQSxVQUFBO0FDQ0QiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL3NhbGVzL2VzdGltYXRlcy9wYWdlcy9lc3RpbWF0ZS1jcmVhdGUvZXN0aW1hdGUtY3JlYXRlLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm5nLXNlbGVjdC5uZy1zZWxlY3Qtc2luZ2xlXG4ubmctc2VsZWN0LWNvbnRhaW5lciB7XG5cdG1pbi13aWR0aDogNTAwcHg7XG59XG4uaW5wIHtcblx0Ym9yZGVyOm5vbmU7XG5cdGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZThlZWYzO1xuXHRwYWRkaW5nOiA1cHggMTBweDtcblx0b3V0bGluZTogbm9uZTtcblx0d2lkdGg6IDEwMCU7XG59XG5cbltwbGFjZWhvbGRlcl06Zm9jdXM6Oi13ZWJraXQtaW5wdXQtcGxhY2Vob2xkZXIge1xuXHR0cmFuc2l0aW9uOiB0ZXh0LWluZGVudCAwLjRzIDAuNHMgZWFzZTsgXG5cdHRleHQtaW5kZW50OiAtMTAwJTtcblx0b3BhY2l0eTogMTtcbn0iLCIubmctc2VsZWN0Lm5nLXNlbGVjdC1zaW5nbGUgLm5nLXNlbGVjdC1jb250YWluZXIge1xuICBtaW4td2lkdGg6IDUwMHB4O1xufVxuXG4uaW5wIHtcbiAgYm9yZGVyOiBub25lO1xuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2U4ZWVmMztcbiAgcGFkZGluZzogNXB4IDEwcHg7XG4gIG91dGxpbmU6IG5vbmU7XG4gIHdpZHRoOiAxMDAlO1xufVxuXG5bcGxhY2Vob2xkZXJdOmZvY3VzOjotd2Via2l0LWlucHV0LXBsYWNlaG9sZGVyIHtcbiAgdHJhbnNpdGlvbjogdGV4dC1pbmRlbnQgMC40cyAwLjRzIGVhc2U7XG4gIHRleHQtaW5kZW50OiAtMTAwJTtcbiAgb3BhY2l0eTogMTtcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\nimport { DatePipe } from '@angular/common';\nimport {\n\tFormGroup,\n\tFormBuilder,\n\tFormControl,\n\tValidators,\n\tFormArray\n} from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { ToastrService } from 'ngx-toastr';\nimport { TranslateService } from '@ngx-translate/core';\n\nimport { EstimateSettingService } from '../../../../../core/services/estimate-setting.service';\nimport { EstimateService } from '../../../../../core/services/estimate.service';\nimport { ItemService } from '../../../../../core/services/item.service';\nimport { ClientService } from '../../../../../core/services/client.service';\nimport { TaxService } from '../../../../../core/services/tax.service';\nimport { AuthenticationService } from '../../../../../core/services/authentication.service';\n\n@Component({\n\tselector: 'app-estimate-create',\n\ttemplateUrl: './estimate-create.component.html',\n\tstyleUrls: ['./estimate-create.component.scss'],\n\tproviders:[DatePipe]\n})\n\nexport class EstimateCreateComponent implements OnInit {\n\tcreateEstimateForm: FormGroup;\n\tselectedItem: number;\n\tloginUser: any;\n\testimateSettings: any;\n\tclients = [];\n\titems = [];\n\titemsArray = [];\n\ttaxes = [];\n\titemTaxes = [];\n\ttaxesNameValues = [];\n\testimates = {\n\t\tsub_total: 0,\n\t\ttotal_taxes: 0,\n\t\tdiscount: 0.00,\n\t\tadjustment: 0.00,\n\t\ttotal: 0\n\t}\n\ttotal_discount = 0.00;\n\tisFormSubmitted = false;\n\tisFormLoaded = false;\n\tdatepickerConfig = {\n\t\tdateInputFormat: 'YYYY-MM-DD',\n\t\tcontainerClass: 'theme-red'\n\t}\n\n\tconstructor(\n\t\tpublic translate: TranslateService,\n\t\tpublic datepipe: DatePipe,\n\t\tprivate router: Router,\n\t\tprivate formBuilder: FormBuilder,\n\t\tprivate toastr: ToastrService,\n\t\tprivate estimateService: EstimateService,\n\t\tprivate clientService: ClientService,\n\t\tprivate itemService: ItemService,\n\t\tprivate taxService: TaxService,\n\t\tprivate estimateSettingService: EstimateSettingService,\n\t\tprivate authenticationService: AuthenticationService\n\t) {\n\t\tthis.authenticationService.loginUser.subscribe(x => this.loginUser = x);\n\t}\n\n\tngOnInit() {\n\t\tthis.getEstimateSettings();\n\t\tthis.getClients();\n\t\tthis.getTaxes();\n\t}\n\n\tloadForm() {\n\t\tthis.createEstimateForm = this.formBuilder.group({\n\t\t\tclient_id: [null, Validators.required],\n\t\t\testimate_date: [new Date(), Validators.required],\n\t\t\tvalid_till: [this.addDays(new Date(), this.estimateSettings.due_after), Validators.required],\n\t\t\treference: [null],\n\t\t\tdiscount_type: [\"percent\"],\n\t\t\tdiscount: [0],\n\t\t\tadjustment: [0],\n\t\t\tstatus: [\"sent\", Validators.required],\n\t\t\tselectedItem: [null],\n\t\t\titem: this.formBuilder.group({\n\t\t\t\titem_name: [null],\n\t\t\t\titem_description: [null],\n\t\t\t\tquantity: [null],\n\t\t\t\tunit_price: [null],\n\t\t\t\titem_unit: [null],\n\t\t\t\ttaxes: [null],\n\t\t\t\tamount: [null]\n\t\t\t}),\n\t\t\titems: []\n\t\t});\n\n\t\tthis.isFormLoaded = true;\n\t}\n\n\tget estimateControl() { return this.createEstimateForm.controls; }\n\n\tget itemControl() {   return this.createEstimateForm.get('item'); }\n\n\tgetClients() {\n\t\tthis.clientService.getAll()\n\t\t\t.subscribe(\n\t\t\t\tdata => {\n\t\t\t\t\tthis.clients = data;\n\n\t\t\t\t\tthis.getItems();\n\t\t\t\t});\n\t}\n\n\tgetItems() {\n\t\tthis.itemService.getAll()\n\t\t\t.subscribe(\n\t\t\t\tdata => {\n\t\t\t\t\tthis.items = data;\n\n\t\t\t\t\tthis.loadForm();\n\t\t\t\t});\n\t}\n\n\tgetTaxes() {\n\t\tthis.taxService.getAll().subscribe(\n\t\t\tdata => {\n\t\t\t\tthis.taxes = data;\n\n\t\t\t\tfor(let iRow in this.taxes) {\n\t\t\t\t\tif(this.taxesNameValues[this.taxes[iRow].id] == undefined) {\n\t\t\t\t\t\tthis.taxesNameValues[this.taxes[iRow].id] = [];\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.taxesNameValues[this.taxes[iRow].id] = this.taxes[iRow];\n\t\t\t\t}\n\t\t\t});\n\n\t}\n\n\tgetEstimateSettings() {\n\t\tthis.estimateSettingService.getAll()\n\t\t\t.subscribe(\n\t\t\t\tdata => {\n\t\t\t\t\tthis.estimateSettings = data;\n\t\t\t\t});\n\t}\n\n\taddDays(date: Date, days: number): Date {\n\t\treturn new Date(date.setDate(date.getDate() + days))\n\t}\n\n\tchangeItem(event) {\n\t\tif(event) {\n\t\t\tlet taxes = [];\n\t\t\tfor(let iRow in event.taxes) {\n\t\t\t\ttaxes.push(event.taxes[iRow].id)\n\t\t\t}\n\n\t\t\tthis.itemControl.patchValue({ item_name: event.name });\n\t\t\tthis.itemControl.patchValue({ item_description: event.description });\n\t\t\tthis.itemControl.patchValue({ quantity: 1 });\n\t\t\tthis.itemControl.patchValue({ unit_price: event.price });\n\t\t\tthis.itemControl.patchValue({ item_unit: event.unit });\n\t\t\tthis.itemControl.patchValue({ taxes: taxes });\n\t\t}\n\t}\n\n\tresetChildForm() {\n\t\tthis.itemControl.patchValue({ item_name: null});\n\t\tthis.itemControl.patchValue({ item_description: null });\n\t\tthis.itemControl.patchValue({ quantity: null });\n\t\tthis.itemControl.patchValue({ unit_price: null });\n\t\tthis.itemControl.patchValue({ item_unit: null });\n\t\tthis.itemControl.patchValue({ taxes: [] });\n\t}\n\n\tchangeDiscountType(event) {\n\t\tif(event.id == 'not_discount') {\n\t\t\tthis.estimates.discount = 0;\n\t\t}\n\t\t\n\t\tthis.getItemTaxes();\n\t}\n\n\tchangeDiscountAdjustment(event, type) {\n\t\tif(type == 'discount') {\n\t\t\tif(this.createEstimateForm.value.discount_type == \"not_discount\") {\n\t\t\t\tthis.toastr.error(this.translate.instant('estimates.create.error_messages.message7'), this.translate.instant('estimates.title'));\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.estimates.discount = parseFloat(event.target.value);\n\t\t} else {\n\t\t\tthis.estimates.adjustment = parseFloat(event.target.value);\n\t\t}\n\n\t\tif(isNaN(this.estimates.discount)) {\n\t\t\tthis.estimates.discount = 0;\n\t\t}\n\n\t\tif(isNaN(this.estimates.adjustment)) {\n\t\t\tthis.estimates.adjustment = 0;\n\t\t}\n\n\t\tthis.getItemTaxes();\n\t}\n\n\taddItem(event) {\n\t\tevent.preventDefault();\n\t\tlet item = this.createEstimateForm.value.item;\n\n\t\tif(item.item_name == null || item.quantity == null || item.unit_price == null) {\n\t\t\tthis.toastr.error(this.translate.instant('estimates.create.error_messages.message6'), this.translate.instant('estimates.title'));\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.itemsArray.push(item);\n\t\tthis.resetChildForm();\n\t\tthis.estimates.discount = this.createEstimateForm.value.discount;\n\t\tthis.estimates.adjustment = this.createEstimateForm.value.adjustment;\n\t\tthis.getItemTaxes();\n\t}\n\n\tsaveItemDetail(index, name, value) {\n\t\tthis.itemsArray[index][name] = value;\n\t\tthis.getItemTaxes();\n\t}\n\n\tdeleteItem(index) {\n\t\tthis.itemsArray.splice(index,1);\n\t\tthis.getItemTaxes();\n\t}\n\n\tgetItemTaxes() {\n\t\tthis.itemTaxes = [];\n\t\tthis.estimates.sub_total = 0;\n\t\tthis.estimates.total_taxes = 0;\n\t\tthis.estimates.total = 0;\n\t\tthis.total_discount = 0.00;\n\t\tlet totalItemAmount = 0;\n\n\t\t// --\n\t\t// Count item taxes\n\t\tfor(let iRow in this.itemsArray) {\n\t\t\ttotalItemAmount = this.itemsArray[iRow].quantity * this.itemsArray[iRow].unit_price;\n\n\t\t\tfor(let jRow in this.itemsArray[iRow].taxes) {\n\t\t\t\tlet totalTaxes = 0;\n\t\t\t\tif(this.itemTaxes[this.itemsArray[iRow].taxes[jRow]] == undefined) {\n\t\t\t\t\tthis.itemTaxes[this.itemsArray[iRow].taxes[jRow]] = 0;\n\t\t\t\t}\n\n\t\t\t\ttotalTaxes = (totalItemAmount * this.taxesNameValues[this.itemsArray[iRow].taxes[jRow]].tax_rate) / 100;\n\t\t\t\tthis.estimates.total_taxes += totalTaxes;\n\t\t\t\t\n\t\t\t\tthis.itemTaxes[this.itemsArray[iRow].taxes[jRow]] = this.itemTaxes[this.itemsArray[iRow].taxes[jRow]] + totalTaxes;\n\n\t\t\t}\n\n\t\t\t// --\n\t\t\t// Count sub total\n\t\t\tthis.estimates.sub_total += totalItemAmount;\n\t\t}\n\t\t\n\t\t// --\n\t\t// Count total\n\t\tif(this.createEstimateForm.value.discount_type == \"percent\") {\n\t\t\tthis.total_discount = ((this.estimates.sub_total + this.estimates.total_taxes) * this.estimates.discount ) / 100;\n\t\t} else {\n\t\t\tthis.total_discount = this.estimates.discount;\n\t\t}\n\n\t\tthis.estimates.total = (this.estimates.sub_total + this.estimates.total_taxes - this.total_discount) + this.estimates.adjustment;\n\t}\n\n\tonSubmit() {\n\t\tthis.isFormSubmitted = true;\n\t\tif (this.createEstimateForm.invalid) {\n\t\t\treturn;\n\t\t}\n\n\t\tif(this.itemsArray.length == 0) {\n\t\t\tthis.toastr.error(this.translate.instant('estimates.create.error_messages.message5'), this.translate.instant('estimates.title'));\n\t\t\treturn;\n\t\t}\n\n\t\tlet estimateObj = {\n\t\t\t\"client_id\": this.createEstimateForm.value.client_id,\n\t\t\t\"estimate_date\": this.datepipe.transform(this.createEstimateForm.value.estimate_date, 'yyyy-MM-dd'),\n\t\t\t\"valid_till\": this.createEstimateForm.value.valid_till,\n\t\t\t\"status\": this.createEstimateForm.value.status,\n\t\t\t\"reference\": this.createEstimateForm.value.reference,\n\t\t\t\"adjustment\": this.estimates.adjustment,\n\t\t\t\"discount_type\": this.createEstimateForm.value.discount_type,\n\t\t\t\"discount\": this.estimates.discount,\n\t\t\t\"items\": this.itemsArray\n\t\t}\n\n\t\tthis.estimateService.create(estimateObj)\n\t\t\t.subscribe(\n\t\t\t\tdata => {\n\t\t\t\t\tthis.toastr.success(this.translate.instant('estimates.messages.create'), this.translate.instant('estimates.title'));\n\t\t\t\t\tthis.router.navigate(['estimates']);\n\t\t\t\t});\n\t}\n\n}\n","export default \".ng-select.ng-select-single .ng-select-container {\\n  min-width: 500px;\\n}\\n\\n.inp {\\n  border: none;\\n  border-bottom: 1px solid #e8eef3;\\n  padding: 5px 10px;\\n  outline: none;\\n  width: 100%;\\n}\\n\\n[placeholder]:focus::-webkit-input-placeholder {\\n  transition: text-indent 0.4s 0.4s ease;\\n  text-indent: -100%;\\n  opacity: 1;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy90aHVhbmRpbmgvRGVza3RvcC9iYWNrZW5kL2dsYXZhbHBtcy9jb2RlY2FueW9uLVRMZXlGajliLXZpcHNwbS1hbmd1bGFyOC1sYXJhdmVsNTctcHJvamVjdC1zdWl0ZS1VUERBVEUxNDEyMjAyMC9TZXBhcmF0ZV9pbnN0YWxsYXRpb24vVmlwc1BNX2FuZ3VsYXIvc3JjL2FwcC9tb2R1bGVzL3NhbGVzL2VzdGltYXRlcy9wYWdlcy9lc3RpbWF0ZS1lZGl0L2VzdGltYXRlLWVkaXQuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL21vZHVsZXMvc2FsZXMvZXN0aW1hdGVzL3BhZ2VzL2VzdGltYXRlLWVkaXQvZXN0aW1hdGUtZWRpdC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUVDLGdCQUFBO0FDQUQ7O0FERUE7RUFDQyxZQUFBO0VBQ0EsZ0NBQUE7RUFDQSxpQkFBQTtFQUNBLGFBQUE7RUFDQSxXQUFBO0FDQ0Q7O0FERUE7RUFDQyxzQ0FBQTtFQUNBLGtCQUFBO0VBQ0EsVUFBQTtBQ0NEIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxlcy9zYWxlcy9lc3RpbWF0ZXMvcGFnZXMvZXN0aW1hdGUtZWRpdC9lc3RpbWF0ZS1lZGl0LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm5nLXNlbGVjdC5uZy1zZWxlY3Qtc2luZ2xlXG4ubmctc2VsZWN0LWNvbnRhaW5lciB7XG5cdG1pbi13aWR0aDogNTAwcHg7XG59XG4uaW5wIHtcblx0Ym9yZGVyOm5vbmU7XG5cdGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZThlZWYzO1xuXHRwYWRkaW5nOiA1cHggMTBweDtcblx0b3V0bGluZTogbm9uZTtcblx0d2lkdGg6IDEwMCU7XG59XG5cbltwbGFjZWhvbGRlcl06Zm9jdXM6Oi13ZWJraXQtaW5wdXQtcGxhY2Vob2xkZXIge1xuXHR0cmFuc2l0aW9uOiB0ZXh0LWluZGVudCAwLjRzIDAuNHMgZWFzZTsgXG5cdHRleHQtaW5kZW50OiAtMTAwJTtcblx0b3BhY2l0eTogMTtcbn0iLCIubmctc2VsZWN0Lm5nLXNlbGVjdC1zaW5nbGUgLm5nLXNlbGVjdC1jb250YWluZXIge1xuICBtaW4td2lkdGg6IDUwMHB4O1xufVxuXG4uaW5wIHtcbiAgYm9yZGVyOiBub25lO1xuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2U4ZWVmMztcbiAgcGFkZGluZzogNXB4IDEwcHg7XG4gIG91dGxpbmU6IG5vbmU7XG4gIHdpZHRoOiAxMDAlO1xufVxuXG5bcGxhY2Vob2xkZXJdOmZvY3VzOjotd2Via2l0LWlucHV0LXBsYWNlaG9sZGVyIHtcbiAgdHJhbnNpdGlvbjogdGV4dC1pbmRlbnQgMC40cyAwLjRzIGVhc2U7XG4gIHRleHQtaW5kZW50OiAtMTAwJTtcbiAgb3BhY2l0eTogMTtcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\nimport { DatePipe } from '@angular/common';\nimport {\n\tFormGroup,\n\tFormBuilder,\n\tFormControl,\n\tValidators,\n\tFormArray\n} from '@angular/forms';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { ToastrService } from 'ngx-toastr';\nimport { TranslateService } from '@ngx-translate/core';\n\nimport { EstimateService } from '../../../../../core/services/estimate.service';\nimport { ItemService } from '../../../../../core/services/item.service';\nimport { ClientService } from '../../../../../core/services/client.service';\nimport { TaxService } from '../../../../../core/services/tax.service';\nimport { AuthenticationService } from '../../../../../core/services/authentication.service';\n\n@Component({\n\tselector: 'app-estimate-edit',\n\ttemplateUrl: './estimate-edit.component.html',\n\tstyleUrls: ['./estimate-edit.component.scss']\n})\n\nexport class EstimateEditComponent implements OnInit {\n\teditEstimateForm: FormGroup;\n\tselectedItem: number;\n\tloginUser: any;\n\testimate: any;\n\tclients = [];\n\titems = [];\n\titemsArray = [];\n\ttaxes = [];\n\titemTaxes = [];\n\ttaxesNameValues = [];\n\ttotal_discount = 0.00;\n\testimates = {\n\t\tsub_total: 0,\n\t\ttotal_taxes: 0,\n\t\tdiscount: 0.00,\n\t\tadjustment: 0.00,\n\t\ttotal: 0\n\t}\n\tisFormSubmitted = false;\n\tisFormLoaded = false;\n\tdatepickerConfig = {\n\t\tdateInputFormat: 'YYYY-MM-DD',\n\t\tcontainerClass: 'theme-red'\n\t}\n\n\tconstructor(\n\t\tpublic translate: TranslateService,\n\t\tpublic datepipe: DatePipe,\n\t\tprivate router: Router,\n\t\tprivate route: ActivatedRoute,\n\t\tprivate formBuilder: FormBuilder,\n\t\tprivate toastr: ToastrService,\n\t\tprivate estimateService: EstimateService,\n\t\tprivate clientService: ClientService,\n\t\tprivate itemService: ItemService,\n\t\tprivate taxService: TaxService,\n\t\tprivate authenticationService: AuthenticationService\n\t) {\n\t\tthis.authenticationService.loginUser.subscribe(x => this.loginUser = x);\n\t\tthis.route.paramMap.subscribe(params => {\n\t\t\tthis.getById(params.get('id'));\n\t\t});\n\t}\n\n\tngOnInit() {\n\t}\n\n\tloadForm() {\n\t\tthis.editEstimateForm = this.formBuilder.group({\n\t\t\tid: [this.estimate.id],\n\t\t\testimate_number: [this.estimate.estimate_number],\n\t\t\tclient_id: [this.estimate.client_id, Validators.required],\n\t\t\testimate_date: [new Date(this.estimate.estimate_date), Validators.required],\n\t\t\tvalid_till: [new Date(this.estimate.valid_till), Validators.required],\n\t\t\treference: [this.estimate.reference],\n\t\t\tstatus: [this.estimate.status, Validators.required],\n\t\t\tdiscount_type: [this.estimate.discount_type],\n\t\t\tdiscount: [this.estimate.discount],\n\t\t\tadjustment: [this.estimate.adjustment],\n\t\t\tselectedItem: [null],\n\t\t\titem: this.formBuilder.group({\n\t\t\t\titem_name: [null],\n\t\t\t\titem_description: [null],\n\t\t\t\tquantity: [null],\n\t\t\t\tunit_price: [null],\n\t\t\t\titem_unit: [null],\n\t\t\t\ttaxes: [null],\n\t\t\t\tamount: [0]\n\t\t\t}),\n\t\t\titems: this.estimate.items\n\t\t});\n\n\t\t// --\n\t\t// Render selected items\n\t\tthis.setSelectedItems(this.estimate.items);\n\n\t\tthis.isFormLoaded = true;\n\t}\n\n\tget estimateControl() { return this.editEstimateForm.controls; }\n\n\tget itemControl() { return this.editEstimateForm.get('item'); }\n\n\tgetById(estimateId) {\n\t\tthis.estimateService.getById(estimateId).subscribe(data => {\n\t\t\tthis.estimate = data;\n\t\t\tthis.getClients();\n\t\t});\n\t}\n\n\tgetClients() {\n\t\tthis.clientService.getAll()\n\t\t\t.subscribe(\n\t\t\t\tdata => {\n\t\t\t\t\tthis.clients = data;\n\n\t\t\t\t\tthis.getItems();\n\t\t\t\t});\n\t}\n\n\tgetItems() {\n\t\tthis.itemService.getAll()\n\t\t\t.subscribe(\n\t\t\t\tdata => {\n\t\t\t\t\tthis.items = data;\n\n\t\t\t\t\tthis.getTaxes();\n\t\t\t\t});\n\t}\n\n\tgetTaxes() {\n\t\tthis.taxService.getAll().subscribe(\n\t\t\tdata => {\n\t\t\t\tthis.taxes = data;\n\n\t\t\t\tfor(let iRow in this.taxes) {\n\t\t\t\t\tif(this.taxesNameValues[this.taxes[iRow].id] == undefined) {\n\t\t\t\t\t\tthis.taxesNameValues[this.taxes[iRow].id] = [];\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.taxesNameValues[this.taxes[iRow].id] = this.taxes[iRow];\n\t\t\t\t}\n\n\t\t\t\tthis.loadForm();\n\t\t\t});\n\n\t}\n\n\taddDays(date: Date, days: number): Date {\n\t\treturn new Date(date.setDate(date.getDate() + days))\n\t}\n\n\tsetSelectedItems(items) {\n\t\tfor(let iRow in items) {\n\t\t\tlet taxes = [];\n\t\t\tfor(let jRow in items[iRow].taxes) {\n\t\t\t\ttaxes.push(items[iRow].taxes[jRow].id)\n\t\t\t}\n\n\t\t\titems[iRow].taxes = taxes;\n\t\t\tthis.itemsArray.push(items[iRow]);\n\t\t}\n\n\t\tthis.estimates.discount = this.estimate.discount;\n\t\tthis.estimates.adjustment = this.estimate.adjustment;\n\n\t\tthis.getItemTaxes();\n\t}\n\n\tchangeItem(event) {\n\t\tlet taxes = [];\n\t\tfor(let iRow in event.taxes) {\n\t\t\ttaxes.push(event.taxes[iRow].id)\n\t\t}\n\n\t\tthis.itemControl.patchValue({ item_name: event.name });\n\t\tthis.itemControl.patchValue({ item_description: event.description });\n\t\tthis.itemControl.patchValue({ quantity: 1 });\n\t\tthis.itemControl.patchValue({ unit_price: event.price });\n\t\tthis.itemControl.patchValue({ item_unit: event.unit });\n\t\tthis.itemControl.patchValue({ taxes: taxes });\n\t}\n\n\tresetChildForm() {\n\t\tthis.itemControl.patchValue({ item_name: null});\n\t\tthis.itemControl.patchValue({ item_description: null });\n\t\tthis.itemControl.patchValue({ quantity: null });\n\t\tthis.itemControl.patchValue({ unit_price: null });\n\t\tthis.itemControl.patchValue({ item_unit: null });\n\t\tthis.itemControl.patchValue({ taxes: [] });\n\t}\n\n\tchangeDiscountType(event) {\n\t\tif(event.id == 'not_discount') {\n\t\t\tthis.estimates.discount = 0;\n\t\t}\n\t\t\n\t\tthis.getItemTaxes();\n\t}\n\n\tchangeDiscountAdjustment(event, type) {\n\t\tif(type == 'discount') {\n\t\t\tif(this.editEstimateForm.value.discount_type == \"not_discount\") {\n\t\t\t\tthis.toastr.error(this.translate.instant('estimates.create.error_messages.message7'), this.translate.instant('estimates.title'));\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.estimates.discount = parseFloat(event.target.value);\n\t\t} else {\n\t\t\tthis.estimates.adjustment = parseFloat(event.target.value);\n\t\t}\n\n\t\tif(isNaN(this.estimates.discount)) {\n\t\t\tthis.estimates.discount = 0;\n\t\t}\n\n\t\tif(isNaN(this.estimates.adjustment)) {\n\t\t\tthis.estimates.adjustment = 0;\n\t\t}\n\n\t\tthis.getItemTaxes();\n\t}\n\n\taddItem(event) {\n\t\tevent.preventDefault();\n\t\tlet item = this.editEstimateForm.value.item;\n\n\t\tif(item.item_name == null || item.quantity == null || item.unit_price == null) {\n\t\t\tthis.toastr.error(this.translate.instant('estimates.create.error_messages.message6'), this.translate.instant('estimates.title'));\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.itemsArray.push(item);\n\t\tthis.resetChildForm();\n\t\tthis.estimates.discount = this.editEstimateForm.value.discount;\n\t\tthis.estimates.adjustment = this.editEstimateForm.value.adjustment;\n\t\tthis.getItemTaxes();\n\t}\n\n\tsaveItemDetail(index, name, value) {\n\t\tthis.itemsArray[index][name] = value;\n\t\tthis.getItemTaxes();\n\t}\n\n\tdeleteItem(index) {\n\t\tthis.itemsArray.splice(index,1);\n\t\tthis.getItemTaxes();\n\t}\n\n\tgetItemTaxes() {\n\t\tthis.itemTaxes = [];\n\t\tthis.estimates.sub_total = 0;\n\t\tthis.estimates.total_taxes = 0;\n\t\tthis.estimates.total = 0;\n\t\tthis.total_discount = 0.00;\n\t\tlet totalItemAmount = 0;\n\n\t\t// --\n\t\t// Count item taxes\n\t\tfor(let iRow in this.itemsArray) {\n\t\t\ttotalItemAmount = this.itemsArray[iRow].quantity * this.itemsArray[iRow].unit_price;\n\n\t\t\tfor(let jRow in this.itemsArray[iRow].taxes) {\n\t\t\t\tlet totalTaxes = 0;\n\t\t\t\tif(this.itemTaxes[this.itemsArray[iRow].taxes[jRow]] == undefined) {\n\t\t\t\t\tthis.itemTaxes[this.itemsArray[iRow].taxes[jRow]] = 0;\n\t\t\t\t}\n\n\t\t\t\ttotalTaxes = (totalItemAmount * this.taxesNameValues[this.itemsArray[iRow].taxes[jRow]].tax_rate) / 100;\n\t\t\t\tthis.estimates.total_taxes += totalTaxes;\n\t\t\t\t\n\t\t\t\tthis.itemTaxes[this.itemsArray[iRow].taxes[jRow]] = this.itemTaxes[this.itemsArray[iRow].taxes[jRow]] + totalTaxes;\n\n\t\t\t}\n\n\t\t\t// --\n\t\t\t// Count sub total\n\t\t\tthis.estimates.sub_total += totalItemAmount;\n\t\t}\n\t\t\n\t\t// --\n\t\t// Count total\n\t\tif(this.editEstimateForm.value.discount_type == \"percent\") {\n\t\t\tthis.total_discount = ((this.estimates.sub_total + this.estimates.total_taxes) * this.estimates.discount ) / 100;\n\t\t} else {\n\t\t\tthis.total_discount = this.estimates.discount;\n\t\t}\n\n\t\tthis.estimates.total = (this.estimates.sub_total + this.estimates.total_taxes - this.total_discount) + this.estimates.adjustment;\n\t}\n\n\tonSubmit() {\n\t\tthis.isFormSubmitted = true;\n\t\tif (this.editEstimateForm.invalid) {\n\t\t\treturn;\n\t\t}\n\n\t\tif(this.itemsArray.length == 0) {\n\t\t\tthis.toastr.error(this.translate.instant('estimates.create.error_messages.message5'), this.translate.instant('estimates.title'));\n\t\t\treturn;\n\t\t}\n\n\t\tlet estimateObj = {\n\t\t\t\"id\": this.editEstimateForm.value.id,\n\t\t\t\"estimate_date\": this.datepipe.transform(this.editEstimateForm.value.estimate_date, 'yyyy-MM-dd'),\n\t\t\t\"valid_till\": this.editEstimateForm.value.valid_till,\n\t\t\t\"client_id\": this.editEstimateForm.value.client_id,\n\t\t\t\"status\": this.editEstimateForm.value.status,\n\t\t\t\"reference\": this.editEstimateForm.value.reference,\n\t\t\t\"items\": this.itemsArray,\n\t\t\t\"adjustment\": this.estimates.adjustment,\n\t\t\t\"discount_type\": this.editEstimateForm.value.discount_type,\n\t\t\t\"discount\": this.estimates.discount\n\t\t}\n\n\t\tthis.estimateService.update(estimateObj)\n\t\t\t.subscribe(\n\t\t\t\tdata => {\n\t\t\t\t\tthis.toastr.success(this.translate.instant('estimates.messages.update'), this.translate.instant('estimates.title'));\n\t\t\t\t\tthis.router.navigate(['estimates']);\n\t\t\t\t});\n\t}\n\n}\n","export default \".hide_empty_message ::ng-deep .odd {\\n  display: none;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy90aHVhbmRpbmgvRGVza3RvcC9iYWNrZW5kL2dsYXZhbHBtcy9jb2RlY2FueW9uLVRMZXlGajliLXZpcHNwbS1hbmd1bGFyOC1sYXJhdmVsNTctcHJvamVjdC1zdWl0ZS1VUERBVEUxNDEyMjAyMC9TZXBhcmF0ZV9pbnN0YWxsYXRpb24vVmlwc1BNX2FuZ3VsYXIvc3JjL2FwcC9tb2R1bGVzL3NhbGVzL2VzdGltYXRlcy9wYWdlcy9lc3RpbWF0ZS1saXN0cy9lc3RpbWF0ZS1saXN0cy5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvbW9kdWxlcy9zYWxlcy9lc3RpbWF0ZXMvcGFnZXMvZXN0aW1hdGUtbGlzdHMvZXN0aW1hdGUtbGlzdHMuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxhQUFBO0FDQ0oiLCJmaWxlIjoic3JjL2FwcC9tb2R1bGVzL3NhbGVzL2VzdGltYXRlcy9wYWdlcy9lc3RpbWF0ZS1saXN0cy9lc3RpbWF0ZS1saXN0cy5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5oaWRlX2VtcHR5X21lc3NhZ2UgOjpuZy1kZWVwIC5vZGQge1xuICAgIGRpc3BsYXk6IG5vbmVcbn0iLCIuaGlkZV9lbXB0eV9tZXNzYWdlIDo6bmctZGVlcCAub2RkIHtcbiAgZGlzcGxheTogbm9uZTtcbn0iXX0= */\"","import { Component, OnInit, AfterViewInit, OnDestroy, ViewChild } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { TranslateService } from '@ngx-translate/core';\nimport { ExportAsService, ExportAsConfig } from 'ngx-export-as';\nimport { ToastrService } from 'ngx-toastr';\n\nimport { AuthenticationService } from '../../../../../core/services/authentication.service';\nimport { EstimateService } from '../../../../../core/services/estimate.service';\n\nimport { estimate_status_value } from '../../../../../core/helpers/sale.helper';\nimport { DatatablesResponse } from '../../../../../core/helpers/datatables-response.helper';\nimport { environment } from '../../../../../../environments/environment';\n\nimport { DataTableDirective } from 'angular-datatables';\nimport { Subject } from 'rxjs';\nimport Swal from 'sweetalert2';\n\nimport 'datatables.net';\nimport 'datatables.net-bs4';\n\n@Component({\n\tselector: 'app-estimate-lists',\n\ttemplateUrl: './estimate-lists.component.html',\n\tstyleUrls: ['./estimate-lists.component.scss']\n})\nexport class EstimateListsComponent implements OnInit {\n\tprivate apiUrl = environment.apiUrl;\n\t@ViewChild(DataTableDirective, { static: true })\n\tdtElement: DataTableDirective;\n\tdtTrigger: Subject<any> = new Subject();\n\tdtOptions: any = {};\n\tloginUser: any;\n\testimates = [];\n\tsettings: any;\n\texportAsConfig: ExportAsConfig = {\n\t\ttype: 'pdf',\n\t\telementIdOrContent: 'estimate_table',\n\t};\n\testimateStatusKeyValue = estimate_status_value;\n\n\tconstructor(\n\t\tpublic translate: TranslateService,\n\t\tprivate exportAsService: ExportAsService,\n\t\tprivate http: HttpClient,\n\t\tprivate toastr: ToastrService,\n\t\tprivate authenticationService: AuthenticationService,\n\t\tprivate estimateService: EstimateService\n\t) {\n\t\tthis.authenticationService.loginUser.subscribe(x => this.loginUser = x);\n\t}\n\n\tngOnInit() {\n\t\tthis.loadDatatable();\n\t}\n\n\tloadDatatable() {\n\t\tlet that = this;\n\t\tthis.dtOptions = {\n\t\t\tpagingType: 'full_numbers',\n\t\t\tpageLength: that.loginUser.settings.tables_pagination_limit,\n\t\t\tserverSide: true,\n\t\t\tprocessing: true,\n\t\t\tdom: '<\"html5buttons\"B>ltfrtip',\n\t\t\torder:[0],\n\t\t\tcolumns: [\n\t\t\t\t{\n\t\t\t\t\t'sortable': true,\n\t\t\t\t\t'width': \"16%\",\n\t\t\t\t\t'target': [0]\n\t\t\t\t}, \n\t\t\t\t{\n\t\t\t\t\t'sortable': true,\n\t\t\t\t\t'width': \"16%\",\n\t\t\t\t\t'target': [1]\n\t\t\t\t}, \n\t\t\t\t{\n\t\t\t\t\t'sortable': true,\n\t\t\t\t\t'width': \"16%\",\n\t\t\t\t\t'target': [2]\n\t\t\t\t}, \n\t\t\t\t{\n\t\t\t\t\t'sortable': true,\n\t\t\t\t\t'width': \"16%\",\n\t\t\t\t\t'target': [3]\n\t\t\t\t}, \n\t\t\t\t{\n\t\t\t\t\t'sortable': true,\n\t\t\t\t\t'width': \"16%\",\n\t\t\t\t\t'target': [4]\n\t\t\t\t}, \n\t\t\t\t{\n\t\t\t\t\t'sortable': true,\n\t\t\t\t\t'width': \"15%\",\n\t\t\t\t\t'target': [5]\n\t\t\t\t}, \n\t\t\t\t{\n\t\t\t\t\t'sortable': false,\n\t\t\t\t\t'width': \"5%\",\n\t\t\t\t\t'target': [6]\n\t\t\t\t}\n\t\t\t],\n\t\t\tbuttons: [{\n\t\t\t\textend: 'csv',\n\t\t\t\tclassName: \"btn btn-datatable-gredient\",\n\t\t\t\taction: function (e, dt, node, config) {\n\t\t\t\t\tthat.exportFiles('csv')\n\t\t\t\t}\n\t\t\t}, {\n\t\t\t\textend: 'excel',\n\t\t\t\tclassName: \"btn btn-datatable-gredient\",\n\t\t\t\taction: function (e, dt, node, config) {\n\t\t\t\t\tthat.exportFiles('xlsx')\n\t\t\t\t}\n\t\t\t}, {\n\t\t\t\textend: 'pdf',\n\t\t\t\tclassName: \"btn btn-datatable-gredient\",\n\t\t\t\taction: function (e, dt, node, config) {\n\t\t\t\t\tthat.exportFiles('pdf')\n\t\t\t\t}\n\t\t\t}],\n\t\t\tlanguage: {\n\t\t\t\t\"sEmptyTable\": this.translate.instant('common.datatable.sEmptyTable'),\n\t\t\t\t\"sInfo\": this.translate.instant('common.datatable.sInfo'),\n\t\t\t\t\"sInfoEmpty\": this.translate.instant('common.datatable.sInfoEmpty'),\n\t\t\t\t\"sSearch\": \"\",\n\t\t\t\t\"sInfoPostFix\": this.translate.instant('common.datatable.sInfoPostFix'),\n\t\t\t\t\"sInfoThousands\": this.translate.instant('common.datatable.sInfoThousands'),\n\t\t\t\t\"sLengthMenu\": this.translate.instant('common.datatable.sLengthMenu'),\n\t\t\t\t\"sLoadingRecords\": this.translate.instant('common.datatable.sLoadingRecords'),\n\t\t\t\t\"sProcessing\": this.translate.instant('common.datatable.sProcessing'),\n\t\t\t\t\"sZeroRecords\": this.translate.instant('common.datatable.sZeroRecords'),\n\t\t\t\t\"sSearchPlaceholder\": this.translate.instant('common.datatable.sSearchPlaceholder'),\n\t\t\t\t\"oPaginate\": {\n\t\t\t\t\t\"sFirst\": this.translate.instant('common.datatable.oPaginate.sFirst'),\n\t\t\t\t\t\"sLast\": this.translate.instant('common.datatable.oPaginate.sLast'),\n\t\t\t\t\t\"sNext\": this.translate.instant('common.datatable.oPaginate.sNext'),\n\t\t\t\t\t\"sPrevious\": this.translate.instant('common.datatable.oPaginate.sPrevious')\n\t\t\t\t},\n\t\t\t\t\"oAria\": {\n\t\t\t\t\t\"sSortAscending\": this.translate.instant('common.datatable.oAria.sSortAscending'),\n\t\t\t\t\t\"sSortDescending\": this.translate.instant('common.datatable.oAria.sSortDescending')\n\t\t\t\t}\n\t\t\t},\n\t\t\tajax: (dataTablesParameters: any, callback) => {\n\t\t\t\tthis.http.post<DatatablesResponse>(this.apiUrl + '/api/all-estimates', dataTablesParameters, {}).subscribe(resp => {\n\t\t\t\t\tthis.estimates = resp.data;\n\t\t\t\t\tthis.settings = resp;\n\t\t\t\t\tthis.settings = this.settings.settings;\n\t\t\t\t\tcallback({\n\t\t\t\t\t\trecordsTotal: resp.recordsTotal,\n\t\t\t\t\t\trecordsFiltered: resp.recordsFiltered,\n\t\t\t\t\t\tdata: [],\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t}\n\n\texportFiles(type) {\n\t\tthis.exportAsConfig.type = type;\n\t\tthis.exportAsService.save(this.exportAsConfig, this.translate.instant('estimates.title')).subscribe(() => { });\n\t}\n\n\tngAfterViewInit(): void {\n\t\tthis.dtTrigger.next();\n\t}\n\n\tngOnDestroy(): void {\n\t\tthis.dtTrigger.unsubscribe();\n\t}\n\n\trerender(): void {\n\t\tthis.dtElement.dtInstance.then((dtInstance: DataTables.Api) => {\n\t\t\tdtInstance.destroy();\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.dtTrigger.next();\n\n\t\t\t\tif(this.estimates.length > 0) {\n\t\t\t\t\t$('.tfoot_dt').addClass('d-none');\n\t\t\t\t} else {\n\t\t\t\t\t$('.tfoot_dt').removeClass('d-none');\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\tchangeEstimateStatus(id: any, status: any) {\n\t\tthis.estimateService.changeStatus({ 'id': id, 'status': status.id }).subscribe(data => {\n\t\t\tthis.toastr.success(this.translate.instant('estimates.messages.status'), this.translate.instant('estimates.title'));\n\t\t\tthis.rerender();\n\t\t});\n\t}\n\n\tdeleteEstimate(id) {\n\t\tSwal.fire({\n\t\t\ttitle: this.translate.instant('common.swal.title'),\n\t\t\ttext: this.translate.instant('common.swal.text') + this.translate.instant('estimates.title1'),\n\t\t\ttype: 'warning',\n\t\t\tshowCancelButton: true,\n\t\t\tconfirmButtonText: this.translate.instant('common.swal.confirmButtonText'),\n\t\t\tcancelButtonText: this.translate.instant('common.swal.cancelButtonText')\n\t\t}).then((result) => {\n\t\t\tif (result.value) {\n\t\t\t\tthis.estimateService.delete(id).subscribe(data => {\n\t\t\t\t\tthis.toastr.success(this.translate.instant('estimates.messages.delete'), this.translate.instant('estimates.title'));\n\t\t\t\t\tthis.rerender();\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\tgetTranslateStatus(statusKey) {\n\t\treturn this.estimateStatusKeyValue[statusKey];\n\t}\n\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvc2FsZXMvZXN0aW1hdGVzL3BhZ2VzL2VzdGltYXRlLXZpZXcvZXN0aW1hdGUtdmlldy5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { ToastrService } from 'ngx-toastr';\nimport { ExportAsService, ExportAsConfig } from 'ngx-export-as';\nimport { TranslateService } from '@ngx-translate/core';\n\nimport { AuthenticationService } from '../../../../../core/services/authentication.service';\nimport { EstimateSettingService } from '../../../../../core/services/estimate-setting.service';\nimport { EstimateService } from '../../../../../core/services/estimate.service';\nimport { HelperService } from '../../../../../core/services/helper.service';\nimport { TaxService } from '../../../../../core/services/tax.service';\n\nimport { environment } from '../../../../../../environments/environment';\n\n@Component({\n\tselector: 'app-estimate-view',\n\ttemplateUrl: './estimate-view.component.html',\n\tstyleUrls: ['./estimate-view.component.scss']\n})\n\nexport class EstimateViewComponent implements OnInit {\n\tprivate apiUrl = environment.apiUrl;\n\tloginUser: any;\n\testimate: any;\n\ttaxes: any;\n\testimateSettings: any;\n\titemTaxes = [];\n\ttaxesNameValues = [];\n\tisPageLoad = false;\n\testimates = {\n\t\tsub_total: 0,\n\t\ttotal_taxes: 0,\n\t\ttotal: 0\n\t}\n\texportAsConfig: ExportAsConfig = {\n\t\ttype: 'pdf',\n\t\telementIdOrContent: 'estimate_table',\n\t};\n\n\tconstructor(\n\t\tpublic translate: TranslateService,\n\t\tprivate router: Router,\n\t\tprivate route: ActivatedRoute,\n\t\tprivate toastr: ToastrService,\n\t\tprivate exportAsService: ExportAsService,\n\t\tprivate estimateService: EstimateService,\n\t\tprivate estimateSettingService: EstimateSettingService,\n\t\tprivate taxService: TaxService,\n\t\tprivate helperService: HelperService,\n\t\tprivate authenticationService: AuthenticationService\n\t) {\n\t\tthis.authenticationService.loginUser.subscribe(x => this.loginUser = x);\n\t\tthis.route.paramMap.subscribe(params => {\n\t\t\tthis.getById(params.get('id'));\n\t\t});\n\t}\n\n\tngOnInit() {\n\t\tthis.getEstimateSettings();\n\t}\n\n\tgetById(estimateId) {\n\t\tthis.estimateService.getById(estimateId).subscribe(data => {\n\t\t\tthis.estimate = data;\n\t\t\tthis.getTaxes();\n\t\t});\n\t}\n\n\tgetEstimateSettings() {\n\t\tthis.estimateSettingService.getAll()\n\t\t\t.subscribe(\n\t\t\t\tdata => {\n\t\t\t\t\tthis.estimateSettings = data;\n\t\t\t\t});\n\t}\n\n\tgetTaxes() {\n\t\tthis.taxService.getAll().subscribe(\n\t\t\tdata => {\n\t\t\t\tthis.taxes = data;\n\n\t\t\t\tfor(let iRow in this.taxes) {\n\t\t\t\t\tif(this.taxesNameValues[this.taxes[iRow].id] == undefined) {\n\t\t\t\t\t\tthis.taxesNameValues[this.taxes[iRow].id] = [];\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.taxesNameValues[this.taxes[iRow].id] = this.taxes[iRow];\n\t\t\t\t}\n\n\t\t\t\tthis.getItemTaxes();\n\t\t\t});\n\n\t}\n\n\tgetItemTaxes() {\n\t\tthis.estimates.sub_total = 0;\n\t\tthis.estimates.total_taxes = 0;\n\t\tthis.estimates.total = 0;\n\t\tlet totalItemAmount = 0;\n\t\tlet total_discount = 0;\n\n\t\t// --\n\t\t// Count item taxes\n\t\tfor(let iRow in this.estimate.items) {\n\t\t\ttotalItemAmount = this.estimate.items[iRow].quantity * this.estimate.items[iRow].unit_price;\n\n\t\t\tfor(let jRow in this.estimate.items[iRow].taxes) {\n\t\t\t\tlet totalTaxes = 0;\n\t\t\t\tif(this.itemTaxes[this.estimate.items[iRow].taxes[jRow].id] == undefined) {\n\t\t\t\t\tthis.itemTaxes[this.estimate.items[iRow].taxes[jRow].id] = 0;\n\t\t\t\t}\n\n\t\t\t\ttotalTaxes = (totalItemAmount * this.estimate.items[iRow].taxes[jRow].tax_rate) / 100;\n\t\t\t\tthis.estimates.total_taxes += totalTaxes;\n\t\t\t\t\n\t\t\t\tthis.itemTaxes[this.estimate.items[iRow].taxes[jRow].id] = this.itemTaxes[this.estimate.items[iRow].taxes[jRow].id] + totalTaxes;\n\n\t\t\t}\n\n\t\t\t// --\n\t\t\t// Count sub total\n\t\t\tthis.estimates.sub_total += totalItemAmount;\n\t\t}\n\n\t\t// --\n\t\t// Count total\n\t\tthis.estimates.total = (this.estimates.sub_total + this.estimates.total_taxes - this.estimate.total_discount) + this.estimate.adjustment;\n\n\t\tthis.isPageLoad = true;\n\t}\n      \n\tdownloadInvoice(estimateNumber) {\n\t\tthis.exportAsService.save(this.exportAsConfig, estimateNumber).subscribe(() => {}); \n\t}\n\n\tchangeEstimateStatus(id: any, status: any) {\n\t\tthis.estimateService.changeStatus({ 'id': id, 'status': status })\n\t\t\t.subscribe(\n\t\t\t\tdata => {\n\t\t\t\t\tthis.toastr.success(this.translate.instant('estimates.messages.status'), this.translate.instant('estimates.title'));\n\t\t\t\t\tthis.estimate.status = status;\n\t\t\t\t});\n\t}\n}\n"],"sourceRoot":"webpack:///"}